(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(20),r=n.n(i),s=(n(70),n(71),n(10)),c=n(56),l=n.n(c),u=n(3);function d(e){return{type:"SETSCENE",_changeScene:e}}function p(e){return{type:"SETSUBSCENE",_changeSubScene:e}}var m=n(117);function f(){var e=Date.now(),t=null;do{t=Date.now()}while(t-e<0)}function h(e){v(0==e?"onFitScreen":"onFullScreen")}function v(e){void 0!=window&&void 0!=window.parent&&(console.log("SendMessage parent:"+e),window.parent.postMessage(e,"*"))}function b(e){void 0!=window&&void 0!=window.HybridApp&&(window.HybridApp.SetLandscapeMode(e),f())}n(88);var g=n(119),w=n(35),S=n.n(w),E=n(58),y=n.n(E),x=n(41),_=Object(m.a)((function(e){return{root:{width:"100%"},video:{position:"relative",width:"100%",margin:"0"},rootFullScreen:{position:"fixed",left:"0%",top:"0%",width:"100%",height:"100%"},videoFullScreen:{position:"absolute",width:"auto",height:"100%",left:"0%",top:"0%",margin:"0"},contentsTitle:{position:"absolute",width:"100%",left:"0%",top:"0%",fontSize:"250%",textShadow:"2px 2px 5px black",color:"white",textAlign:"left",margin:"1% 1%"},contentBackBoard:{position:"absolute",left:"0%",top:"0%",width:"100%",height:"100%",backgroundColor:"#00000088",margin:"0"},skipGuide:{position:"absolute",right:"1%",top:"1%",color:"white"},centerPlayButton:{position:"absolute",width:"50%",height:"50%",left:"25%",top:"40%",display:"none",opacity:"255"},contentsScreenMirror:{position:"absolute",width:"15%",height:"15%",left:"70%",top:"70%"},centerPlayButtonText:{position:"absolute",width:"100%",top:"70%",left:"0",fontSize:"60%",margin:"5%",color:"white"},playButton:{position:"absolute",width:"50%",height:"50%",left:"0%",top:"40%",display:"none",opacity:"255"},skipButton:{position:"absolute",width:"50%",height:"50%",left:"50%",top:"40%",display:"none"},largeIcon:{fontSize:"2em",color:x.a[50]}}})),k={SetMaxTime:function(e){return{type:"SETMAXTIME",_maxTime:e}},SetCurrentTime:function(e){return{type:"SETCURRENTTIME",_currentTime:e}}},C=Object(u.b)((function(e){return{}}),k)((function(e){var t=e.title,n=e.videoUrl,i=e.enableContentsSkip,r=e.enableCountDown,s=e.enableContentsPause,c=e.onVideoPlayComplete,l=e.onVideoSkip,u=e.autoPlay,d=e.controls,p=e.enableTitleText,m=e.SetMaxTime,h=e.SetCurrentTime,v=e.enableFullScreen,b=e.enableScreenMirror,w=e.poster,E=_(),x=Object(o.useRef)(null),k=Object(o.useRef)(null),C=Object(o.useRef)(null),P=Object(o.useRef)(null);function O(){var e=C.current;void 0!=e?(h(parseInt(e.currentTime)),m(parseInt(e.duration))):console.log("videoRef null")}Object(o.useEffect)((function(){console.log("VideoPlay start:"+n),T(!u);var e=void 0;return 1==r&&(e=setInterval(O,1e3)),function(){void 0!=e&&clearInterval(e),console.log("VideoPlay finish:"+n)}}),[]);var T=function(e){var t="none";1==e&&(t="block"),void 0!=x.current&&(x.current.style.display=t),void 0!=k.current&&(k.current.style.display=t),void 0!=P.current&&(P.current.style.display=t)},N=function(){console.log("onPlayClick call");var e=C.current;void 0!=e?(void 0!=e&&e.play(),T(!1)):console.log("video null")},j=function(){console.log("onSkipClick call");var e=C.current;void 0!=e?(e.src="",T(!1),setTimeout((function(){void 0!=l&&l()}),500)):console.log("video null")},B=0==v?E.root:E.rootFullScreen,I=0==v?E.video:E.videoFullScreen;return a.a.createElement("div",{className:B,style:{zIndex:"-2"}},a.a.createElement("video",{className:I,onClick:function(){console.log("onVideoClick call");var e=C.current;if(void 0!=e)return 0==s?(void 0!=e&&e.play(),void console.log("disable contents skip")):void(e.paused?(e.play(),T(!1)):(e.pause(),T(!0)));console.log("videoRef null")},autoPlay:u,onEnded:function(){console.log("onVideoEnded call"),void 0!=c&&c()},ref:C,controls:d,poster:w},a.a.createElement("source",{src:n,type:"video/mp4"}),"Your browser does not support the video tag."),1==p?a.a.createElement("span",{className:E.contentsTitle},t):void 0,function(){if(0!=s)return 1==i?a.a.createElement("div",null,a.a.createElement("div",{className:E.contentBackBoard,ref:P}),a.a.createElement("span",{className:E.skipGuide},"\ud130\uce58\ud558\uc5ec \uc815\uc9c0/\uc2a4\ud0b5 \uac00\ub2a5"),a.a.createElement("div",{className:E.playButton,ref:x},a.a.createElement(g.a,{"aria-label":"play",onClick:N},a.a.createElement(S.a,{className:E.largeIcon}),a.a.createElement("span",{className:E.centerPlayButtonText},"\uc7ac\uc0dd"))),a.a.createElement("div",{className:E.skipButton,ref:k},a.a.createElement(g.a,{"aria-label":"skip",onClick:j},a.a.createElement(y.a,{className:E.largeIcon}),a.a.createElement("span",{className:E.centerPlayButtonText},"\ub2e4\uc74c")))):a.a.createElement("div",null,a.a.createElement("div",{className:E.contentBackBoard,ref:P}),a.a.createElement("div",{className:E.centerPlayButton,ref:x},a.a.createElement(g.a,{"aria-label":"play",onClick:N},a.a.createElement(S.a,{className:E.largeIcon}),a.a.createElement("span",{className:E.centerPlayButtonText},"\uc7ac\uc0dd"))))}(),1==b?a.a.createElement("img",{onClick:function(){void 0!=window&&void 0!=window.HybridApp&&(window.HybridApp.EnablingWiFiDisplay(),f())},className:E.contentsScreenMirror,src:"/home-training/img/screen-mirror-icon.png"}):void 0)})),P={step1:{title:"\ucf54\uc5b4-\ubcf5\uadfc 15\ubd84",desc:"\ucf54\uc5b4-\ubcf5\uadfc 15\ubd84",type:"extra",web_url:"https://goli8111.github.io/home-training/data/intro.mp4",url:"file:///android_asset/video/intro.mp4",enableContentsPause:!0,enablePlayerView:!1,key:"intro"},step2:{title:"\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38",desc:"\uc6cc\ubc0d\uc5c5:\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38 40\ucd08",type:"extra",web_url:"https://goli8111.github.io/home-training/data/mountain-climber-intro.mp4",url:"file:///android_asset/video/mountain-climber-intro.mp4",enableContentsPause:!0,enablePlayerView:!1,key:"mountain-climber"},step3:{title:"\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38(set)",desc:"\uc6cc\ubc0d\uc5c5:\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38 40\ucd08",type:"set",web_url:"https://goli8111.github.io/home-training/data/mountain-climber-set.mp4",url:"file:///android_asset/video/mountain-climber-set.mp4",enableContentsPause:!1,enablePlayerView:!0,key:"mountain-climber"},step4:{title:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3",desc:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3 30\ucd08 X 1 set",type:"extra",web_url:"https://goli8111.github.io/home-training/data/plank-in-and-out-intro.mp4",url:"file:///android_asset/video/plank-in-and-out-intro.mp4",enableContentsPause:!0,enablePlayerView:!1,key:"plank-in-and-out"},step5:{title:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3(set)",desc:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3 30\ucd08 X 1 set",type:"set",web_url:"https://goli8111.github.io/home-training/data/plank-in-and-out-set.mp4",url:"file:///android_asset/video/plank-in-and-out-set.mp4",enableContentsPause:!1,enablePlayerView:!0,key:"plank-in-and-out"},step6:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 X 1 set",type:"extra",web_url:"https://goli8111.github.io/home-training/data/hollow-body-kick-intro-1.mp4",url:"file:///android_asset/video/hollow-body-kick-intro-1.mp4",enableContentsPause:!0,enablePlayerView:!1,key:"hollow-body-kick"},step7:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 Set#1",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 X 1 set",type:"set",web_url:"https://goli8111.github.io/home-training/data/hollow-body-kick-set-1.mp4",url:"file:///android_asset/video/hollow-body-kick-set-1.mp4",enableContentsPause:!0,enablePlayerView:!0,key:"hollow-body-kick"},step8:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5(\ud734\uc2dd)",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 \ud6c4 \ud734\uc2dd",type:"extra",web_url:"https://goli8111.github.io/home-training/data/hollow-body-kick-intro-2.mp4",url:"file:///android_asset/video/hollow-body-kick-intro-2.mp4",enableContentsPause:!0,enablePlayerView:!1,key:"hollow-body-kick"},step9:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 Set#2",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 X 2 set",type:"set",web_url:"https://goli8111.github.io/home-training/data/hollow-body-kick-set-2.mp4",url:"file:///android_asset/video/hollow-body-kick-set-2.mp4",enableContentsPause:!0,enablePlayerView:!0,key:"hollow-body-kick"},step10:{title:"",desc:"\uacb0\uacfc",type:"extra",web_url:"https://goli8111.github.io/home-training/data/core-abs-result.mp4",url:"file:///android_asset/video/core-abs-result.mp4",enableContentsPause:!1,enablePlayerView:!1,key:"result"}};function O(){var e=Date.now(),t=null;do{t=Date.now()}while(t-e<0)}function T(e){return void 0!=window&&(void 0!=window.HybridApp&&window.HybridApp.IsVideoFileExist(e))}function N(e){for(var t=[],n=1;n<100;n++){var o="step"+n,a=e[o];if(void 0==a)break;if("set"==a.type){var i={};i.step=n,void 0==window.HybridApp?(i.valid=!0,i.url=e[o].web_url):(i.valid=window.HybridApp.IsVideoFileExist(n),i.url=window.HybridApp.GetVideoFilePath(n)),i.desc=e[o].desc,i.title=e[o].title,t.push(i)}}return t}function j(e,t){return B(N(e),t)}function B(e,t){var n=[];return e.forEach((function(e){e.valid==t&&n.push(e)})),n}var I=Object(m.a)((function(e){return{root:{position:"relative",width:"100%"},contentsTitle_fail:{position:"relative",width:"100%",left:"0%",color:"red"},contentsTitle_fail_desc:{position:"relative",width:"100%",left:"0%",color:"gray"},video:{position:"relative",width:"100%",margin:"0"},divLine:{border:"1px solid",color:"#DDDDDD",width:"95%"}}})),D=void 0,R={SetSubScene:p,RefreshIntro:function(){return{type:"REFRESHINTRO"}}},V=Object(u.b)((function(e){return{_currentSubScene:e.scene._currentSubScene,_refreshIntro:e.scene._refreshIntro}}),R)((function(e){e._currentSubScene,e._refreshIntro;var t=e.RefreshIntro,n=I(),i=a.a.useState(!1),r=Object(s.a)(i,2);r[0],r[1];Object(o.useEffect)((function(){void 0!=(D=j(P,!0))&&D.length}));var c=function(e){var n,o=e.target.getAttribute("data-index");console.log("onDeleteVideo call index:"+o),n=parseInt(o),void 0!=window&&void 0!=window.HybridApp&&(window.HybridApp.DeleteVideoFile(n),O()),t()},l=function(e,t,o,i,r){return a.a.createElement("div",{key:t},r?function(e,t,o){return a.a.createElement("div",{key:t},a.a.createElement("div",{className:"contentsTitle_left"},a.a.createElement("div",{className:n.contentsTitle_success_icon},a.a.createElement("img",{onClick:c,"data-index":e,className:"contentsTitle_success_delete_icon",src:"/home-training/img/result-scene-delete-icon.png"})),a.a.createElement("span",{className:"contentsTitle_success_text"},t)),a.a.createElement("video",{className:n.video,autoPlay:!1,controls:!0,poster:"/home-training/img/HomeTrainingQuest_icon.png"},a.a.createElement("source",{src:o,type:"video/mp4",id:"SelectSoundOutput"}),"Your browser does not support the video tag."))}(e,o,i):function(e){return a.a.createElement("div",{key:e},a.a.createElement("div",{className:"contentsTitle_fail_left"},a.a.createElement("span",{className:n.contentsTitle_fail},e)),a.a.createElement("div",{className:"contentsTitle_fail_center"},a.a.createElement("span",{className:n.contentsTitle_fail_desc},"\uc601\uc0c1 \uae30\ub85d \uc5c6\uc74c")))}(o))};return a.a.createElement("div",{key:"FullScreenResult",className:n.root},a.a.createElement("div",{className:"result_contentsSummery"},a.a.createElement("span",{className:"result_contentsSummery_left"},"\ub0b4\uae30\ub85d"),a.a.createElement("span",{className:"result_contentsSummery_right"},function(){for(var e=N(P),t=e.length,n=0,o=0;o<e.length;o++)1==e[o].valid&&n++;return a.a.createElement("div",null,a.a.createElement("span",{style:{color:"green"}},n," Set"),"\uae30\ub85d / \ucd1d ",t," Set")}())),a.a.createElement("div",{className:"result_videoRoot"},a.a.createElement("div",{className:"result_videoContainer"},function(){var e=[],t=N(P);if(void 0!=t){console.log("fullSourceList:"+t.length);for(var n=0;n<t.length;n++)e.push(l(t[n].step,t[n].title,t[n].desc,t[n].url,t[n].valid))}return e}(),a.a.createElement("hr",{className:n.divLine}))))}));function M(e){return{type:"SETPOSENETPOSE",_posenetPose:e}}function A(e){return console.log("ClosePosenet action call:"+e),{type:"CLOSEPOSENET",_closePosenet:e}}var F=n(28),z=(n(52),n(120)),H=Object(m.a)((function(e){return{root:{position:"fixed",left:"0%",top:"0%",width:"100%",height:"100%"},contentsTitle:{position:"absolute",left:"5%",top:"5%",fontSize:"250%",textShadow:"2px 2px 5px black",color:"red"},contentsFailText:{position:"absolute",left:"5%",top:"20%",fontSize:"250%",textShadow:"2px 2px 5px black",color:"white"},retryButton:{position:"absolute",left:"60%",top:"5%",width:"30%",height:"20%",fontSize:"150%",opacity:.5},OKButton:{position:"absolute",left:"60%",top:"35%",width:"30%",height:"20%",fontSize:"150%",opacity:.5}}})),L={SetSubScene:p},U=Object(u.b)((function(e){return{_currentSubScene:e.scene._currentSubScene}}),L)((function(e){e.SetSubScene,e._currentSubScene;var t=e.failureCount,n=e.onOKClick,o=e.onRetryClick,i=H();return a.a.createElement("div",{className:i.root},a.a.createElement("span",{className:i.contentsTitle},"\ucd94\uac00 \uae30\ub85d \ud544\uc694"),a.a.createElement("span",{className:i.contentsFailText},t+"SET"),a.a.createElement(z.a,{className:i.retryButton,onClick:o,variant:"contained",color:"secondary"},"\uc7ac\ub3c4\uc804"),a.a.createElement(z.a,{className:i.OKButton,onClick:n,variant:"contained",color:"secondary"},"\ud655\uc778"))})),W=Object(m.a)((function(e){return{root:{position:"fixed",left:"0%",top:"0%",width:"100%",height:"100%"},contentsTitle:{position:"absolute",left:"5%",top:"5%",fontSize:"250%",textShadow:"2px 2px 5px black",color:"green"},OKButton:{position:"absolute",left:"60%",top:"35%",width:"30%",height:"20%",fontSize:"150%",opacity:.5}}})),X={SetSubScene:p},K=Object(u.b)((function(e){return{_currentSubScene:e.scene._currentSubScene}}),X)((function(e){e.SetSubScene,e._currentSubScene;var t=e.onOKClick,n=W();return a.a.createElement("div",{className:n.root},a.a.createElement("span",{className:n.contentsTitle},"\uc601\uc0c1 \uae30\ub85d \uc644\ub8cc"),a.a.createElement(z.a,{className:n.OKButton,onClick:t,variant:"contained",color:"secondary"},"\ud655\uc778"))})),G=n(9),q=n.n(G),Y=n(19),J=n(36),Q=n(37),$=n(26),Z=n(39),ee=n(40),te=n(23),ne=!0,oe={zIndex:"0",position:"fixed",right:"0%",bottom:"0%",width:"30%"},ae={height:"auto"},ie={height:"10%"},re={zIndex:"0",position:"fixed",left:"0%",top:"0%",width:"100%"},se={height:"auto"},ce={height:"100%"},le={position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"98%",height:"100%",margin:"1%",textShadow:"2px 2px 5px black",color:"white"},ue={textAlign:"center",fontSize:"100%"},de={textAlign:"right",fontSize:"130%"},pe=!1,me=function(e){Object(ee.a)(n,e);var t=Object(Z.a)(n);function n(e){var o;return Object(J.a)(this,n),(o=t.call(this,e,n.defaultProps)).getCanvas=function(e){o.canvas=e},o.getCanvasOverlay=function(e){o.canvasOverlay=e},o.getVideo=function(e){o.video=e},o.onNextCamera=function(){ne=!ne,console.log("user camera flag : "+ne),o.playCamera()},o.getCameraInvalid=function(){var e;if(void 0!=o.props._posenetPose&&!(o.props.minPoseConfidence<o.props._posenetPose.score))return e=1==o.props.showMiniVideo?Object.assign({},le,ue):Object.assign({},le,de),a.a.createElement("span",{style:e},"\ud654\uba74 \uc548\uc73c\ub85c \ub4e4\uc5b4\uc624\uc138\uc694.")},o.stopCamera=o.stopCamera.bind(Object($.a)(o)),o}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=Object(Y.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe=!1,e.prev=1,e.next=4,te.b();case 4:this.posenet=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("PoseNetCamera failed to load");case 10:return e.prev=10,e.next=13,this.setupCamera();case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(10),new Error("This browser does not support video capture, or this device does not have a camera");case 18:case"end":return e.stop()}}),e,this,[[1,7],[10,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){pe=!0,this.stopCamera()}},{key:"setupCamera",value:function(){var e=Object(Y.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){e.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){e.kind,console.log(e.kind+": "+e.label+", id = "+e.deviceId)}))})).catch((function(e){console.log(e.name+": "+e.message)})),this.playCamera();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"playCamera",value:function(){var e=Object(Y.a)(q.a.mark((function e(){var t,n,o,a=this;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.stream&&window.stream.getTracks().forEach((function(e){e.stop()})),t=this.video,1920,1080,n="user",0==ne&&(n="environment"),e.next=8,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:n,frameRate:60,width:{exact:1920},height:{exact:1080},aspectRatio:{exact:1920/1080}}});case 8:return o=e.sent,window.stream=o,t.srcObject=o,e.abrupt("return",new Promise((function(e){t.onloadedmetadata=function(){t.play(),a.updateCamera(),e(t)}})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopCamera",value:function(){console.log("stopCamera call");var e=this.video;void 0!=e&&(e.pause(),e.src="",void 0!=e.srcObject&&(e.srcObject.getTracks()[0].stop(),e.srcObject=void 0),console.log("video off"))}},{key:"updateCamera",value:function(){var e=this.canvas;if(void 0!=e){var t=e.getContext("2d");if(void 0!=t){var n=this.video;void 0!=n&&(0==this.props.showVideo?n.style.display="none":n.style.display="block",this.updateCameraFrame(t))}}}},{key:"updateCameraFrame",value:function(e){var t=this,n=this.video,o=this.posenet,a=0,i=function(){var r=Object(Y.a)(q.a.mark((function r(){var s,c,l,u;return q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(1!=pe){r.next=2;break}return r.abrupt("return");case 2:if(s=t.canvas,c=(new Date).getTime(),1==(l=c-a>1e3)&&(a=c),1!=l){r.next=18;break}return r.prev=8,r.next=11,o.estimateSinglePose(n,.5,!0,16);case 11:u=r.sent,t.props.onPosenetPose(u),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(8),console.log("posenet detection error",r.t0);case 18:if(1==t.props.showDebugVideo&&void 0!=s&&(n.videoWidth==s.width&&n.videoHeight==s.height||(s.width=n.videoWidth,s.height=n.videoHeight,e.width=n.videoWidth,e.height=n.videoHeight),e.clearRect(0,0,s.width,s.height),e.save(),e.drawImage(n,0,0),e.restore()),"start"!=t.props._closeCamera){r.next=23;break}return t.stopCamera(),t.props.onCloseCamera("complete"),r.abrupt("return");case 23:requestAnimationFrame(i);case 24:case"end":return r.stop()}}),r,null,[[8,15]])})));return function(){return r.apply(this,arguments)}}();i()}},{key:"render",value:function(){var e,t;return 1==this.props.showMiniVideo?(e=Object.assign({},oe,ae),t=Object.assign({},oe,ie)):(e=Object.assign({},re,se),t=Object.assign({},re,ce)),a.a.createElement("div",null,a.a.createElement("video",{id:"videoCamera",style:e,src:"",playsInline:!0,ref:this.getVideo}),a.a.createElement("canvas",{style:e,ref:this.getCanvas}),a.a.createElement("div",{style:t},this.getCameraInvalid()))}}]),n}(o.Component);me.defaultProps={showVideo:!1,showDebugVideo:!1,showMiniVideo:!1,minPoseConfidence:.3,loadingText:"Loading...please be patient..."};var fe=me=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene,_posenetPose:e.posenet._posenetPose}}),(function(e){return{onPosenetPose:function(t){return e(M(t))},onClosePosenet:function(t){return e(A(t))}}}))(me);n(6);function he(e){var t=Math.pow(e.x-0,2)+Math.pow(e.y-0,2);return Math.sqrt(t)}function ve(e,t){return(e.x*t.x+e.y*t.y)/(he(e)*he(t))}var be,ge;function we(e){return[e.x,e.y]}function Se(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.forEach((function(e){if(e.score>=t){var i=e.position,r=i.x,s=i.y;o.beginPath(),o.arc(r*a,s*a,3,0,2*Math.PI),o.fillStyle=n,o.fill()}}))}function Ee(e,t,n,o,a,i){var r=Object(s.a)(e,2),c=r[0],l=r[1],u=Object(s.a)(t,2),d=u[0],p=u[1];i.beginPath(),function(e,t,n,o,a){a.moveTo(e,t),a.lineTo(n,o);var i=n-e,r=o-t,s=Math.atan2(r,i);a.moveTo(n,o),a.lineTo(n-10*Math.cos(s-Math.PI/6),o-10*Math.sin(s-Math.PI/6)),a.moveTo(n,o),a.lineTo(n-10*Math.cos(s+Math.PI/6),o-10*Math.sin(s+Math.PI/6))}(c*a,l*a,d*a,p*a,i),i.lineWidth=o,i.strokeStyle=n,i.stroke()}function ye(e,t,n,o,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,r=te.a(e,t);r.forEach((function(e){Ee(we(e[0].position),we(e[1].position),n,o,i,a)}))}function xe(e,t,n,o){var a=Object(s.a)(e,2),i=a[0],r=a[1],c=Object(s.a)(t,2),l=c[0],u=c[1];o.font="20px Arial",o.fillStyle=n,o.textAlign="center";var d={};d.x=l-i,d.y=u-r;var p=function(e){var t={x:0,y:-1},n=ve(t,e),o=parseInt(Math.acos(n)*(180/Math.PI));return e.x<0&&(o+=180),o}(d),m=(i+l)/2,f=(r+u)/2;o.fillText("("+p+")",m,f)}function _e(e,t,n,o,a){arguments.length>5&&void 0!==arguments[5]&&arguments[5];var i=te.a(e,t);i.forEach((function(e){xe(we(e[0].position),we(e[1].position),n,o)}))}var ke=0,Ce="yellow",Pe=32;function Oe(){if(!be)return be=Date.now(),ge=0,void(ke=0);(Date.now()-be)/1e3>=1?(be=Date.now(),ge=ke,ke=0):ke++}function Te(e){e.fillStyle=Ce,e.font=Pe+"px Arial",e.fillText(ge,10,Pe+10)}var Ne={zIndex:"0",position:"fixed",right:"0%",bottom:"0%",width:"30%"},je={height:"30%"},Be={height:"30%"},Ie={zIndex:"0",position:"fixed",left:"0%",top:"0%",width:"100%"},De={height:"auto"},Re={height:"100%"},Ve={position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"100%",height:"100%",margin:"0 auto",textShadow:"2px 2px 5px black",color:"white"},Me={textAlign:"left",fontSize:"150%"},Ae={textAlign:"center",fontSize:"80%"},Fe={textAlign:"right",fontSize:"130%"},ze={textAlign:"center",fontSize:"80%"},He=!1,Le=function(e){Object(ee.a)(n,e);var t=Object(Z.a)(n);function n(e){var o;return Object(J.a)(this,n),(o=t.call(this,e,n.defaultProps)).getCanvas=function(e){o.canvas=e},o.getVideo=function(e){o.video=e},o.getCameraScan=function(){var e;if(e=1==o.props.showMiniVideo?Object.assign({},Ve,Ae):Object.assign({},Ve,Me),void 0==o.props._posenetPose)return a.a.createElement("span",{style:e},"\uce74\uba54\ub77c \uc778\uc2dd \uc911...")},o.getCameraInvalid=function(){var e;if(void 0!=o.props._posenetPose&&!(o.props.minPoseConfidence<o.props._posenetPose.score))return e=1==o.props.showMiniVideo?Object.assign({},Ve,ze):Object.assign({},Ve,Fe),a.a.createElement("span",{style:e},"\ud654\uba74 \uc548\uc73c\ub85c \ub4e4\uc5b4\uc624\uc138\uc694.")},o.stopCamera=o.stopCamera.bind(Object($.a)(o)),console.log("PoseNetCamera init"),o}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=Object(Y.a)(q.a.mark((function e(){var t=this;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He=!1,e.prev=1,e.next=4,this.setupCamera();case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("This browser does not support video capture, or this device does not have a camera");case 9:return e.prev=9,e.next=12,te.b();case 12:this.posenet=e.sent,e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(9),new Error("PoseNetCamera failed to load");case 18:return e.prev=18,setTimeout((function(){t.setState({loading:!1})}),200),e.finish(18);case 21:this.detectPose();case 22:case"end":return e.stop()}}),e,this,[[1,6],[9,15,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){He=!0,console.log("PoseNetCamera componentWillUnmount"),this.stopCamera()}},{key:"setupCamera",value:function(){var e=Object(Y.a)(q.a.mark((function e(){var t,n,o,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return(t=this.video).style.display="none",t.style.transform="rotatey(180deg)",n=window.innerWidth,o=window.innerHeight,e.next=9,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:n,height:o}});case 9:return a=e.sent,t.srcObject=a,e.abrupt("return",new Promise((function(e){t.onloadedmetadata=function(){t.play(),e(t)}})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopCamera",value:function(){console.log("stopCamera call");var e=this.video;void 0!=e&&(e.pause(),e.src="",void 0!=e.srcObject&&(e.srcObject.getTracks()[0].stop(),e.srcObject=void 0),console.log("video off"))}},{key:"detectPose",value:function(){var e=this.canvas;if(void 0!=e){var t=e.getContext("2d");if(void 0!=t)this.video.style.display="none",this.poseDetectionFrame(t)}}},{key:"poseDetectionFrame",value:function(e){var t=this,n=this.props,o=n.algorithm,a=n.imageScaleFactor,i=n.flipHorizontal,r=n.outputStride,s=n.minPoseConfidence,c=n.minPartConfidence,l=n.maxPoseDetections,u=n.nmsRadius,d=n.showDebugVideo,p=n.showPoints,m=n.showSkeleton,f=n.showSkeletonDegree,h=n.skeletonColor,v=n.skeletonDegreeColor,b=n.skeletonLineWidth,g=this.posenet,w=this.video,S=(new Date).getTime(),E=function(){var n=Object(Y.a)(q.a.mark((function n(){var y,x,_,k,C;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(1!=He){n.next=2;break}return n.abrupt("return");case 2:if(y=(new Date).getTime(),1==(x=y-S>1e3)&&(S=y),n.prev=6,_=[],1!=x){n.next=22;break}n.t0=o,n.next="multi-pose"===n.t0?12:"single-pose"===n.t0?16:22;break;case 12:return n.next=14,g.estimateMultiplePoses(w,a,i,r,l,c,u);case 14:return _=n.sent,n.abrupt("break",22);case 16:return n.next=18,g.estimateSinglePose(w,a,i,r);case 18:return k=n.sent,t.props.onPosenetPose(k),_.push(k),n.abrupt("break",22);case 22:void 0!=(C=t.canvas)&&(e.clearRect(0,0,C.width,C.height),e.save(),e.scale(-1,1),e.translate(-C.width,0),e.drawImage(w,w.left,w.top,w.left+C.width/2,w.top+C.height),e.restore(),1==d&&(Oe(),e.save(),_.forEach((function(t){var n=t.score,o=t.keypoints;n>=s&&(p&&Se(o,c,h,e),m&&ye(o,c,h,b,e),f&&_e(o,c,v,e))})),e.restore(),Te(e))),n.next=29;break;case 26:n.prev=26,n.t1=n.catch(6),console.log("posenet detection error");case 29:requestAnimationFrame(E);case 30:case"end":return n.stop()}}),n,null,[[6,26]])})));return function(){return n.apply(this,arguments)}}();E()}},{key:"render",value:function(){var e,t;return 1==this.props.showMiniVideo?(e=Object.assign({},Ne,je),t=Object.assign({},Ne,Be)):(e=Object.assign({},Ie,De),t=Object.assign({},Ie,Re)),a.a.createElement("div",null,a.a.createElement("video",{id:"videoCamera",style:e,src:"",playsInline:!0,ref:this.getVideo}),a.a.createElement("div",{style:t},this.getCameraInvalid()),a.a.createElement("canvas",{style:{position:"fixed",left:"0%",top:"0%",zIndex:"1"},ref:this.getCanvas}))}}]),n}(o.Component);Le.defaultProps={flipHorizontal:!0,algorithm:"single-pose",showMiniVideo:!1,showVideo:!0,showDebugVideo:!1,showSkeleton:!1,showPoints:!1,showSkeletonDegree:!1,minPoseConfidence:.7,minPartConfidence:.5,maxPoseDetections:2,nmsRadius:20,outputStride:16,imageScaleFactor:.5,skeletonColor:"#ffadea",skeletonDegreeColor:"#ff0000",skeletonLineWidth:6,loadingText:"Loading...please be patient..."};Le=Object(u.b)((function(e){return{_currentScene:e.scene._currentScene,_closePosenet:e.posenet._closePosenet,_posenetPose:e.posenet._posenetPose}}),(function(e){return{onPosenetPose:function(t){return e(M(t))},onClosePosenet:function(t){return e(A(t))}}}))(Le);var Ue={position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"100%",height:"100%",textAlign:"left",margin:"0 auto",fontSize:"150%",textShadow:"2px 2px 5px black",color:"white"},We={position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"100%",height:"100%",textAlign:"right",margin:"0 auto",fontSize:"130%",textShadow:"2px 2px 5px black",color:"white"},Xe={position:"fixed",zIndex:"1",left:"0%",top:"0%",width:"100%",height:"100%"},Ke={setScene:d},Ge=(Object(u.b)((function(e){return{_posenetPose:e.posenet._posenetPose,_countdown:e.countdown._countdown}}),Ke)((function(e){e.setScene;var t=e._posenetPose,n=(e._countdown,e.minPoseConfidence);Object(o.useEffect)((function(){}));return a.a.createElement("div",{style:Xe},a.a.createElement("span",{style:Ue},"\uce74\uba54\ub77c \uc778\uc2dd \uc911..."),function(){if(void 0!=t&&!(n<t.score))return a.a.createElement("span",{style:We},"\ud654\uba74 \uc548\uc73c\ub85c \ub4e4\uc5b4\uc624\uc138\uc694.")}())})),Object(m.a)((function(e){return{root:{width:"100%",maxHeight:"100%"},contentsTitle:{position:"absolute",left:"5%",top:"5%",fontSize:"250%",textShadow:"2px 2px 5px black",color:"red"},contentsResult:{position:"fixed",left:"0%",top:"10%",width:"100%",height:"auto",fontSize:"250%",textShadow:"2px 2px 5px black",textAlign:"center",color:"white"}}}))),qe=0,Ye=0,Je=void 0,Qe={SetSubScene:p,SetPosenetPose:M,InvalidPosenet:function(e){return{type:"INVALIDPOSENET",_invalidPoseKey:e}},ValidPosenet:function(e){return{type:"VALIDPOSENET",_validPoseKey:e}},ClosePosenet:A},$e=Object(u.b)((function(e){return{_posenetPose:e.posenet._posenetPose,_currentSubScene:e.scene._currentSubScene,_recordState:e.posenet._recordState}}),Qe)((function(e){e.SetSubScene,e._currentSubScene;var t=e.SetPosenetPose,n=(e.InvalidPosenet,e.ValidPosenet,e._posenetPose),i=e.step,r=e.title,s=e.desc,c=e._recordState,l=Ge();function u(){var e={score:1};t(e)}Object(o.useEffect)((function(){var e;return e=setInterval(u,1e3),function(){void 0!=e&&clearInterval(e)}})),Object(o.useEffect)((function(){void 0!=n&&(.3<n.score?Ye++:qe++,console.log("PoseCameraRecord _recordState:"+c),1==c?d():p())}),[n]),Object(o.useEffect)((function(){return console.log("PoseCameraRecord start:"+i),qe=0,Ye=0,Je=i,r,s,function(){p()}}),[]);var d=function(){!function(e){if(void 0!=window&&void 0!=window.HybridApp)window.HybridApp.StartCameraRecord(e),O()}(i)},p=function(){console.log(" stopVideoRecord call");var e=0,t=Ye+qe;0!=t&&(e=100*Ye/(Ye+qe)),console.log("percent:"+e+", total:"+t),function(e,t,n,o){void 0!=window&&void 0!=window.HybridApp&&(window.HybridApp.StopCameraRecord(),O(),0==e&&setTimeout((function(){window.HybridApp.DeleteVideoFile(t)}),1e3))}(50<e,Je)};return a.a.createElement("div",{key:"PoseNetMiniCamera"},function(){if(0==c)return 1==T(Je)?a.a.createElement("span",{className:l.contentsResult},"\uae30\ub85d \uc131\uacf5"):a.a.createElement("span",{className:l.contentsResult},"\uae30\ub85d \uc2e4\ud328")}())})),Ze=Object(m.a)((function(e){return{root:{width:"100%",maxHeight:"100%"},videoContainer:{width:"100%",position:"relative"},progressContainer:{position:"fixed",zIndex:"1",left:"2%",top:"20%",width:"15%",height:"15%",margin:"0"}}})),et=0,tt={InvalidPosenetClear:function(){return{type:"INVALIDPOSENET_CLEAR"}},SetCameraRecord:function(e){return console.log("SETCAMERARECORD action call:"+e),{type:"SETCAMERARECORD",_recordState:e}},setScene:d},nt=Object(u.b)((function(e){return{_posenetPose:e.posenet._posenetPose,_maxTime:e.countdown._maxTime,_currentTime:e.countdown._currentTime}}),tt)((function(e){e._posenetPose;var t=e.setScene,n=(e.InvalidPosenetClear,e.SetCameraRecord),o=e._currentTime,i=e._maxTime,r=Ze(),c=a.a.useState(1),l=Object(s.a)(c,2),u=l[0],d=l[1],p=function(e){return P["step"+e]},m=function(e,t,n){var o=t.replace(".mp4",".jpg");return a.a.createElement(C,{key:t,title:e,enableContentsSkip:!0,enableContentsPause:n,enableCountDown:!0,onVideoPlayComplete:h,onVideoSkip:v,videoUrl:t,autoPlay:!1,enableTitleText:!0,enableFullScreen:!0,enableScreenMirror:n,poster:o})},f=function(){var e=u+1;void 0!=p(e)&&b(e)},h=function(){console.log("onVideoEnded call");var e=p(u);void 0!=e&&(n(!1),e.enablePlayerView?setTimeout((function(){f()}),2e3):f())},v=function(){console.log("onVideoSkip call"),void 0!=p(u)&&f()};function b(e){var t=u,n=e;1!=T(n+1)?(d(n),console.log("change scene type:"+t+"=>"+n)):b(n+2)}var g=function(){var e=void 0,t=void 0,n=p(u);return void 0!=n&&(e=n.title,t=n.desc),a.a.createElement("div",{key:"PoseNetMiniCamera"},a.a.createElement($e,{step:u,title:e,desc:t}))},w=function(){console.log("onOKClick"),d(1),t("IntroScene")},S=function(){console.log("onRetryClick"),et=0,b(1)},E=function(){var e=j(P,!1).length;return 0==e?a.a.createElement("div",{key:"ResultSuccess"},a.a.createElement(K,{onOKClick:w})):a.a.createElement("div",{key:"ResultFailure"},a.a.createElement(U,{failureCount:e,onOKClick:w,onRetryClick:S}))};return a.a.createElement("div",{className:r.root},a.a.createElement("div",{className:r.videoContainer},function(){var e=[],t=p(u);if(void 0!=t){var o=t.url;o=t.web_url,e.push(m(t.title,o,t.enableContentsPause)),void 0==p(u+1)&&e.push(E()),1==t.enablePlayerView&&(et!=u&&(n(!0),et=u),e.push(g()))}return e}()),function(){var e=p(u);if(void 0!=e&&0!=e.enablePlayerView){var t=parseInt(i-o);return a.a.createElement("div",{className:r.progressContainer},a.a.createElement(F.a,{value:t,maxValue:i,text:"".concat(t),styles:Object(F.b)({textColor:"#ffffff",pathColor:"#ffffff",trailColor:"#ffffff11",textSize:"40px"})}))}}())})),ot=Object(m.a)((function(e){return{root:{position:"absolute",left:"0%",top:"0%",width:"100%",height:"100%"},videoContainer:{position:"absolute",height:"100%",width:"100%",left:"0%",top:"0%"},contentsLoading:{position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"100%",height:"100%",textAlign:"left",margin:"0 auto",fontSize:"150%",textShadow:"2px 2px 5px black",color:"white"},progressContainer:{position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"20%",height:"20%",marginLeft:"5%",marginTop:"10%"}}})),at=0,it={setScene:d},rt=Object(u.b)((function(e){return{_posenetPose:e.posenet._posenetPose}}),it)((function(e){var t=e._posenetPose,n=e.setScene,i=ot();Object(o.useEffect)((function(){console.log("_posenetPose effect call:"+at),void 0!=t&&(at>=4?n("Play"):.3<=t.score?r():s())}),[t]);var r=function(){at++},s=function(){at=0};return a.a.createElement("div",{className:i.root},a.a.createElement("div",{className:i.videoContainer},a.a.createElement("div",{className:i.progressContainer},a.a.createElement(F.a,{value:at,maxValue:4,text:"".concat(25*at,"%"),styles:Object(F.b)({textColor:"#ffffff",pathColor:"#ffffff",trailColor:"#ffffff11",textSize:"40px"})})),a.a.createElement("span",{className:i.contentsLoading},"\uce74\uba54\ub77c \uc778\uc2dd \uc911..."),a.a.createElement("div",{key:"PoseNetScanCamera"},a.a.createElement(fe,{showMiniVideo:!1,showDebugVideo:!0,minPoseConfidence:.3}))))})),st={step3:{title:"\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38(set)",desc:"\uc6cc\ubc0d\uc5c5:\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38 40\ucd08",url:"https://goli8111.github.io/home-training/data/mountain-climber-set.mp4",comments:["0:41","\ub2e4\ub9ac\ub97c \ud3b4\uc8fc\uc138\uc694.","1:15","\ub9c8\uc6b4\ud2f4 \uc790\uc138 \uc2dc, \ud5c8\ub9ac\ub97c \ub354 \ud3b4\uc8fc\uc138\uc694."]},step5:{title:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3(set)",desc:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3 30\ucd08 X 1 set",url:"https://goli8111.github.io/home-training/data/plank-in-and-out-set.mp4",comments:["0:13","\uc870\uae08 \ub354 \ube60\ub974\uac8c \uc9c4\ud589 \ud574\uc8fc\uc138\uc694."]},step7:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 Set#1",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 X 1 set",url:"https://goli8111.github.io/home-training/data/hollow-body-kick-set-1.mp4",comments:["0:00","\uc644\ubcbd\ud569\ub2c8\ub2e4."]},step9:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 Set#2",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 X 2 set",url:"https://goli8111.github.io/home-training/data/hollow-body-kick-set-2.mp4"}},ct=(n(99),Object(m.a)((function(e){return{root:{width:"100%",maxHeight:"100%"},videoRoot:{position:"relative",top:"5%",height:"95%",width:"100%"},videoContainer:{position:"relative",width:"100%",margin:"5px"},video:{position:"relative",width:"100%",margin:"0"},divLine:{border:"1px solid",color:"#DDDDDD",width:"95%"}}}))),lt={SetSubScene:p},ut=Object(u.b)((function(e){return{_currentSubScene:e.scene._currentSubScene}}),lt)((function(e){var t=e.resultState,n=ct();Object(o.useEffect)((function(){}));var i=function(e,t,o){return a.a.createElement("div",{key:e},a.a.createElement("div",{className:"contentsTitle_left"},a.a.createElement("span",{className:"contentsTitle_success_text"},e)),a.a.createElement("video",{className:n.video,autoPlay:!1,controls:!0,poster:"/home-training/img/HomeTrainingQuest_icon.png"},a.a.createElement("source",{src:t,type:"video/mp4",id:"SelectSoundOutput"}),"Your browser does not support the video tag."),a.a.createElement("div",{className:"contentsTitle_left"},function(e){if(void 0!=e){for(var t=[],n=parseInt(e.length/2),o=0;o<n;o++){0!=o&&t.push(a.a.createElement("br",{key:e}));var i=2*o,r=e[i],s=e[i+1];t.push(a.a.createElement("span",{key:r+s+"0",className:"contentsTitle_success_time"},r," ")),t.push(a.a.createElement("span",{key:r+s+"1",className:"contentsTitle_success_text"},s))}return t}}(o)),a.a.createElement("hr",{className:n.divLine}))};return a.a.createElement("div",{key:"FeedbackScene",className:n.root},a.a.createElement("div",{className:"contentsSummery"},a.a.createElement("span",{className:"contentsSummery_title"},"\ub9c8\uc2a4\ud130 \ucf54\uba58\ud2b8"),a.a.createElement("div",{className:"contentsSummery_result"},t?a.a.createElement("div",null,"\uc57d\uac04\uc758 \ub3d9\uc791 \uad50\uc815\uc774 \ud544\uc694\ud558\uc9c0\ub9cc, \uc798\ud558\uc168\uc2b5\ub2c8\ub2e4,",a.a.createElement("br",null),"\ud074\ub9ac\uc5b4 \ub3c4\uc7a5 \ucc0d\uc5b4\ub4dc\ub9bd\ub2c8\ub2e4!"):a.a.createElement("div",null,"\uc544\uc27d\uc2b5\ub2c8\ub2e4.",a.a.createElement("br",null),"\ucf54\uba58\ud2b8\ub97c \uc77d\uc5b4\ubcf4\uc2dc\uace0 \ub2e4\uc2dc \ub3c4\uc804\ud558\uc138\uc694.")),a.a.createElement("hr",{className:n.divLine}),a.a.createElement("div",{className:n.videoRoot},a.a.createElement("div",{className:n.videoContainer},function(){var e=[];return Object.keys(st).forEach((function(t,n){e.push(i(st[t].desc,st[t].url,st[t].comments))})),e}()))))})),dt=n(46),pt=Object(m.a)((function(e){return{root:{position:"fixed",backgroundColor:"#FFFFFF88",width:"100%",height:"65px",bottom:"0px",left:"0%"},BottomBarButton:{position:"absolute",height:"80%",top:"8%",background:"linear-gradient(90deg, #cc6699 30%, #6666ff 80%)",borderRadius:3,border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)",width:"94%",left:"3%"},BottomBarText:{position:"absolute",height:"60%",top:"0%",color:"white",width:"100%",left:"0%",fontSize:"20px",textAlign:"center"},BottomBarSubGroup:{position:"absolute",height:"40%",top:"50%",width:"100%",left:"0%"},BottomBarImg:{position:"relative",top:"3px",height:"80%",width:"auto"},BottomBarSubText:{position:"relative",height:"100%",color:"white",width:"100%",left:"5px",fontSize:"15px",textAlign:"center"}}})),mt=function(e){var t=e.onClick,n=e.rewardCategory,o=e.rewardExp,i=pt();return a.a.createElement("div",{className:i.root},a.a.createElement(z.a,{onClick:t,className:i.BottomBarButton,variant:"contained",color:"secondary"},a.a.createElement("span",{className:i.BottomBarText},"\uc644\ub8cc\ud558\uace0 \ubcf4\uc0c1 \ubc1b\uae30"),a.a.createElement("div",{className:i.BottomBarSubGroup},a.a.createElement("img",{className:i.BottomBarImg,src:function(){switch(n){case"strength":return"https://goli8111.github.io/level-up/img/class_strength.png";case"dexterity":return"https://goli8111.github.io/level-up/img/DexterityStat_icon.png";case"intelligence":return"https://goli8111.github.io/level-up/img/class_intelligence.png";case"wisdom":return"https://goli8111.github.io/level-up/img/class_wisdom.png"}}()}),a.a.createElement("span",{className:i.BottomBarSubText},o))))},ft=(n(55),Object(m.a)((function(e){var t;return{root:{position:"relative",width:"100%"},videoContainer:{width:"100%",position:"relative"},contentsTitle:{color:"black"},BottomBarBack:{position:"fixed",backgroundColor:"#FFFFFF88",width:"100%",height:"11%",top:"89%",left:"0%"},BottomBarGroup:{position:"fixed",bottom:"70px",width:"100%"},BottomBarButton:(t={position:"absolute",height:"85%",top:"5%",background:"linear-gradient(90deg, #cc6699 30%, #6666ff 80%)",borderRadius:3,border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)",width:"94%",left:"3%"},Object(dt.a)(t,"height","50px"),Object(dt.a)(t,"top","5px"),t),BottomBarButton_text_center:{position:"absolute",left:"0",top:"5%",width:"100%",fontSize:"30px",fontWeight:"bold"},BottomBarButton_text_1:{position:"absolute",left:"0",top:"5%",width:"100%",fontSize:"20px",fontWeight:"bold"},BottomBarButton_text_2:{position:"absolute",left:"0",top:"60%",width:"100%",fontSize:"12px"}}}))),ht={setScene:d},vt=Object(u.b)((function(e){return{_posenetPose:e.posenet._posenetPose,_refreshIntro:e.scene._refreshIntro}}),ht)((function(e){e._posenetPose;var t=e.setScene,n=(e._refreshIntro,e.rewardState),o=e.rewardCategory,i=e.rewardExp,r=ft();console.log("IntroScene start");var s=function(){console.log("onPlay call"),t("Play")},c=function(){console.log("onGetReward call"),v("onGetReward")},l=function(){console.log("onFinishClick call"),v("onSuccess")};return a.a.createElement("div",{className:r.root},a.a.createElement("div",{className:"contents_body"},a.a.createElement("div",{className:"contents_intro"},a.a.createElement("span",{className:".contents_intro_text"},"\uc5b4\ub514\uc2a4\ub4e0 \uac00\ubccd\uac8c!"),a.a.createElement("span",{className:"contents_intro_text_sub"},a.a.createElement("br",null),"\ub531 16\ubd84 \ud2b8\ub808\uc774\ub2dd\uc73c\ub85c \ucf54\uc5b4\ub97c \ub2e8\ub2e8\ud558\uac8c \uc870\uc774\uace0, \ubcf5\uadfc\uc744 \ud65c\uc131\ud654 \ud569\ub2c8\ub2e4.",a.a.createElement("br",null),"\ub530\ub77c\uc624\uc138\uc694")),function(){var e=[];return Object.keys(P).forEach((function(t,n){if("set"==P[t].type){var o=P[t].url;o=P[t].web_url,e.push(function(e,t,n){var o=n.replace(".mp4",".jpg");return a.a.createElement("div",{key:e},a.a.createElement("span",{className:r.contentsTitle},t),a.a.createElement("div",{className:r.videoContainer},a.a.createElement(C,{key:n,title:e,enableContentsSkip:!1,enableContentsPause:!0,videoUrl:n,autoPlay:!1,enableTitleText:!1,enableFullScreen:!1,enableScreenMirror:!1,poster:o})))}(P[t].title,P[t].desc,o))}})),e}(),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",{className:r.BottomBarBack})),a.a.createElement("div",{className:r.BottomBarGroup},function(){var e=N(P),t=B(e,!1),u=B(e,!0);return 1==n?a.a.createElement(mt,{onClick:c,rewardCategory:o,rewardExp:i}):0==t?a.a.createElement(z.a,{onClick:l,className:r.BottomBarButton,variant:"contained",color:"secondary"},a.a.createElement("span",{className:r.BottomBarButton_text_center},"\uae30\ub85d \uc81c\ucd9c\ud558\uae30")):u>0?a.a.createElement(z.a,{onClick:s,className:r.BottomBarButton,variant:"contained",color:"secondary"},a.a.createElement("span",{className:r.BottomBarButton_text_center},"\uc7ac\ub3c4\uc804\ud558\uae30")):a.a.createElement(z.a,{onClick:s,className:r.BottomBarButton,variant:"contained",color:"secondary"},a.a.createElement("span",{className:r.BottomBarButton_text_1},"\uc601\uc0c1 \uae30\ub85d \uc2dc\uc791"),a.a.createElement("span",{className:r.BottomBarButton_text_2},"\ucd1d 11 Set / 15 \ubd84"))}()))})),bt=Object(m.a)((function(e){return{root:{width:"100%",height:"100%",backgroundColor:"#FFFFFF"}}})),gt={setScene:d},wt=Object(u.b)((function(e){return{_currentScene:e.scene._currentScene}}),gt)((function(e){var t=e._currentScene,n=(e.setScene,e.location);console.log("Index_scene component start");var i=bt(),r=a.a.useState(!1),c=Object(s.a)(r,2),u=c[0],d=c[1],p=a.a.useState(""),m=Object(s.a)(p,2),f=m[0],v=m[1],g=a.a.useState(0),w=Object(s.a)(g,2),S=w[0],E=w[1],y=a.a.useState(!1),x=Object(s.a)(y,2),_=(x[0],x[1]);Object(o.useEffect)((function(){j(P,!0).length>0&&_(!0)})),Object(o.useEffect)((function(){var e=l.a.parse(n.search);console.log(e),d("true"==e.Complete),v(e.reward_category),E(e.reward_exp)}),[n]);return a.a.createElement("div",{className:i.root},function(){switch(t){case"Result":return h(!1),b(!1),a.a.createElement(V,null);case"Play":return h(!0),b(!0),a.a.createElement(nt,null);case"BodyScan":return h(!0),b(!0),a.a.createElement(rt,null);case"Feedback":return h(!1),b(!1),a.a.createElement(ut,{resultState:!1});case"IntroScene":h(!1),b(!1);var e=j(P,!0);return a.a.createElement("div",{className:"index_contents_root"},e.length>0?a.a.createElement(V,null):void 0,a.a.createElement(vt,{rewardState:u,rewardCategory:f,rewardExp:S}))}}())})),St=n(59),Et=n(5);var yt=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(St.a,null,a.a.createElement(Et.a,{path:"/",component:wt})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xt=n(25),_t={_currentScene:"IntroScene",_currentSubScene:"",_refreshIntro:0};var kt={_posenetPose:void 0,_closePosenet:"",_recordState:!1};var Ct={_currentTime:0,_maxTime:0};var Pt=Object(xt.b)({scene:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETSCENE":return console.log("SETSCENE:"+t._changeScene),Object.assign({},e,{_currentScene:t._changeScene});case"SETSUBSCENE":return console.log("SETSUBSCENE:"+t._changeSubScene),Object.assign({},e,{_currentSubScene:t._changeSubScene});case"REFRESHINTRO":return console.log("REFRESHINTRO"),Object.assign({},e,{_refreshIntro:e._refreshIntro+1});default:return e}},posenet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETPOSENETPOSE":return Object.assign({},e,{_posenetPose:t._posenetPose});case"CLOSEPOSENET":return console.log("CLOSEPOSENET:"+t._closePosenet),Object.assign({},e,{_closePosenet:t._closePosenet});case"SETCAMERARECORD":return console.log("SETCAMERARECORD:"+t._recordState),Object.assign({},e,{_recordState:t._recordState});default:return e}},countdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETMAXTIME":return Object.assign({},e,{_maxTime:t._maxTime});case"SETCURRENTTIME":return Object.assign({},e,{_currentTime:t._currentTime});default:return e}}}),Ot=document.getElementById("root"),Tt=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Nt=Object(xt.c)(Pt,Tt);r.a.render(a.a.createElement(u.a,{store:Nt},a.a.createElement(yt,null)),Ot),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,n){},65:function(e,t,n){e.exports=n(101)},70:function(e,t,n){},71:function(e,t,n){},88:function(e,t,n){},96:function(e,t){},97:function(e,t){},98:function(e,t){},99:function(e,t,n){}},[[65,1,2]]]);
//# sourceMappingURL=main.eda77d21.chunk.js.map