(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{58:function(e,t,n){e.exports=n(82)},63:function(e,t,n){},68:function(e,t,n){},76:function(e,t){},77:function(e,t){},78:function(e,t){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(16),r=n.n(i),s=(n(63),n(18)),c=n(19),l=n(22),u=n(24),d=n(3),p=(n(68),n(11));function m(e){return{type:"SETSCENE",_changeScene:e}}function f(e){return{type:"SETSUBSCENE",_changeSubScene:e}}function v(e){return{type:"SETPOSENETPOSE",_posenetPose:e}}function h(e){return console.log("ClosePosenet action call:"+e),{type:"CLOSEPOSENET",_closePosenet:e}}var g=n(25),b=(n(47),n(99)),S=n(101),E=Object(b.a)((function(e){return{root:{position:"fixed",left:"0%",top:"0%",width:"100%",height:"100%"},contentsTitle:{position:"absolute",left:"5%",top:"5%",fontSize:"250%",textShadow:"2px 2px 5px black",color:"red"},contentsFailText:{position:"absolute",left:"5%",top:"20%",fontSize:"250%",textShadow:"2px 2px 5px black",color:"white"},retryButton:{position:"absolute",left:"60%",top:"5%",width:"30%",height:"20%",fontSize:"150%",opacity:.5},OKButton:{position:"absolute",left:"60%",top:"35%",width:"30%",height:"20%",fontSize:"150%",opacity:.5}}})),y={SetSubScene:f},w=Object(d.b)((function(e){return{_currentSubScene:e.scene._currentSubScene}}),y)((function(e){e.SetSubScene,e._currentSubScene;var t=e.failureCount,n=e.onOKClick,o=e.onRetryClick,i=E();return a.a.createElement("div",{className:i.root},a.a.createElement("span",{className:i.contentsTitle},"\ucd94\uac00 \uae30\ub85d \ud544\uc694"),a.a.createElement("span",{className:i.contentsFailText},t+"SET"),a.a.createElement(S.a,{className:i.retryButton,onClick:o,variant:"contained",color:"secondary"},"\uc7ac\ub3c4\uc804"),a.a.createElement(S.a,{className:i.OKButton,onClick:n,variant:"contained",color:"secondary"},"\ud655\uc778"))})),_=Object(b.a)((function(e){return{root:{position:"fixed",left:"0%",top:"0%",width:"100%",height:"100%"},contentsTitle:{position:"absolute",left:"5%",top:"5%",fontSize:"250%",textShadow:"2px 2px 5px black",color:"green"},OKButton:{position:"absolute",left:"60%",top:"35%",width:"30%",height:"20%",fontSize:"150%",opacity:.5}}})),x={SetSubScene:f},P=Object(d.b)((function(e){return{_currentSubScene:e.scene._currentSubScene}}),x)((function(e){e.SetSubScene,e._currentSubScene;var t=e.onOKClick,n=_();return a.a.createElement("div",{className:n.root},a.a.createElement("span",{className:n.contentsTitle},"\uc601\uc0c1 \uae30\ub85d \uc644\ub8cc"),a.a.createElement(S.a,{className:n.OKButton,onClick:t,variant:"contained",color:"secondary"},"\ud655\uc778"))})),k=void 0,C=[],O=[];function T(e){if(0!=C.length)if(C.length==O.length){for(var t=[],n=0;n<O.length;n++)if(O[n].step==e){t.push(C[n]);break}if(0!=t.length){var o=new Blob(t,{type:"video/webm"});return URL.createObjectURL(o)}console.log("GetVideoSource not found step key")}else console.log("GetVideoSources recordedChunks, _recordedChunksState length diffrent");else console.log("GetVideoSource recordedChunks length zero")}var N=n(102),j=n(36),I=n.n(j),V=n(52),R=n.n(V),D=n(38);function L(e){void 0!=window&&void 0!=window.parent&&(0==e?window.parent.postMessage("onFitScreen","*"):window.parent.postMessage("onFullScreen","*"))}function B(e){void 0!=window&&void 0!=window.HybridApp&&window.HybridApp.SetLandscapeMode(e)}var M=Object(b.a)((function(e){return{root:{width:"100%"},video:{position:"relative",width:"100%",margin:"0"},rootFullScreen:{position:"fixed",left:"0%",top:"0%",width:"100%",height:"100%"},videoFullScreen:{position:"absolute",width:"auto",height:"100%",left:"0%",top:"0%",margin:"0"},contentsTitle:{position:"absolute",width:"100%",left:"0%",top:"0%",fontSize:"250%",textShadow:"2px 2px 5px black",color:"white",textAlign:"left",margin:"1% 1%"},contentBackBoard:{position:"absolute",left:"0%",top:"0%",width:"100%",height:"100%",backgroundColor:"#00000088",margin:"0"},skipGuide:{position:"absolute",right:"1%",top:"1%",color:"white"},centerPlayButton:{position:"absolute",width:"50%",height:"50%",left:"25%",top:"40%",display:"none",opacity:"255"},contentsScreenMirror:{position:"absolute",width:"15%",height:"15%",left:"70%",top:"70%"},centerPlayButtonText:{position:"absolute",width:"100%",top:"70%",left:"0",fontSize:"60%",margin:"5%",color:"white"},playButton:{position:"absolute",width:"50%",height:"50%",left:"0%",top:"40%",display:"none",opacity:"255"},skipButton:{position:"absolute",width:"50%",height:"50%",left:"50%",top:"40%",display:"none"},largeIcon:{fontSize:"2em",color:D.a[50]}}})),A={SetMaxTime:function(e){return{type:"SETMAXTIME",_maxTime:e}},SetCurrentTime:function(e){return{type:"SETCURRENTTIME",_currentTime:e}}},z=Object(d.b)((function(e){return{}}),A)((function(e){var t=e.title,n=e.videoUrl,i=e.enableContentsSkip,r=e.enableCountDown,s=e.enableContentsPause,c=e.onVideoPlayComplete,l=e.onVideoSkip,u=e.autoPlay,d=e.controls,p=e.enableTitleText,m=e.SetMaxTime,f=e.SetCurrentTime,v=e.enableFullScreen,h=e.enableScreenMirror,g=M(),b=Object(o.useRef)(null),S=Object(o.useRef)(null),E=Object(o.useRef)(null),y=Object(o.useRef)(null);function w(){var e=E.current;void 0!=e?(f(parseInt(e.currentTime)),m(parseInt(e.duration))):console.log("videoRef null")}Object(o.useEffect)((function(){console.log("VideoPlay start:"+n),_(!u);var e=void 0;return 1==r&&(e=setInterval(w,1e3)),function(){void 0!=e&&clearInterval(e),console.log("VideoPlay finish:"+n)}}),[]);var _=function(e){var t="none";1==e&&(t="block"),void 0!=b.current&&(b.current.style.display=t),void 0!=S.current&&(S.current.style.display=t),void 0!=y.current&&(y.current.style.display=t)},x=function(){console.log("onPlayClick call");var e=E.current;void 0!=e?(void 0!=e&&e.play(),_(!1)):console.log("video null")},P=function(){console.log("onSkipClick call"),_(!1),void 0!=l&&l()},k=0==v?g.root:g.rootFullScreen,C=0==v?g.video:g.videoFullScreen;return a.a.createElement("div",{className:k,style:{zIndex:"-2"}},a.a.createElement("video",{className:C,onClick:function(){console.log("onVideoClick call");var e=E.current;if(void 0!=e)return 0==s?(void 0!=e&&e.play(),void console.log("disable contents skip")):void(e.paused?(e.play(),_(!1)):(e.pause(),_(!0)));console.log("videoRef null")},autoPlay:u,onEnded:function(){console.log("onVideoEnded call"),void 0!=c&&c()},ref:E,controls:d,playsinline:!0},a.a.createElement("source",{src:n,type:"video/mp4"}),"Your browser does not support the video tag."),1==p?a.a.createElement("span",{className:g.contentsTitle},t):void 0,function(){if(0!=s)return 1==i?a.a.createElement("div",null,a.a.createElement("div",{className:g.contentBackBoard,ref:y}),a.a.createElement("span",{className:g.skipGuide},"\ud130\uce58\ud558\uc5ec \uc815\uc9c0/\uc2a4\ud0b5 \uac00\ub2a5"),a.a.createElement("div",{className:g.playButton,ref:b},a.a.createElement(N.a,{"aria-label":"play",onClick:x},a.a.createElement(I.a,{className:g.largeIcon}),a.a.createElement("span",{className:g.centerPlayButtonText},"\uc7ac\uc0dd"))),a.a.createElement("div",{className:g.skipButton,ref:S},a.a.createElement(N.a,{"aria-label":"skip",onClick:P},a.a.createElement(R.a,{className:g.largeIcon}),a.a.createElement("span",{className:g.centerPlayButtonText},"\ub2e4\uc74c")))):a.a.createElement("div",null,a.a.createElement("div",{className:g.contentBackBoard,ref:y}),a.a.createElement("div",{className:g.centerPlayButton,ref:b},a.a.createElement(N.a,{"aria-label":"play",onClick:x},a.a.createElement(I.a,{className:g.largeIcon}),a.a.createElement("span",{className:g.centerPlayButtonText},"\uc7ac\uc0dd"))))}(),1==h?a.a.createElement("img",{onClick:function(){void 0!=window&&void 0!=window.HybridApp&&window.HybridApp.EnablingWiFiDisplay()},className:g.contentsScreenMirror,src:"/home-training/img/screen-mirror-icon.png"}):void 0)})),F=n(33),U=n(7),H=n.n(U),W=n(14),X=n(20),K=n(17),G=!0,q={zIndex:"0",position:"fixed",right:"0%",bottom:"0%",width:"30%"},Y={height:"auto"},J={height:"30%"},Q={zIndex:"0",position:"fixed",left:"0%",top:"0%",width:"100%"},$={height:"auto"},Z={height:"100%"},ee={position:"fixed",left:"0%",width:"100%",height:"auto",top:"50%",transform:"translate(0%, -50%)",zIndex:"-1"},te=!1,ne=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e,n.defaultProps)).getCanvas=function(e){o.canvas=e},o.getCanvasOverlay=function(e){o.canvasOverlay=e},o.getVideo=function(e){o.video=e},o.onNextCamera=function(){G=!G,console.log("user camera flag : "+G),o.playCamera()},o.stopCamera=o.stopCamera.bind(Object(X.a)(o)),o}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(W.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te=!1,e.prev=1,e.next=4,K.b();case 4:this.posenet=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("PoseNetCamera failed to load");case 10:return e.prev=10,e.next=13,this.setupCamera();case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(10),new Error("This browser does not support video capture, or this device does not have a camera");case 18:case"end":return e.stop()}}),e,this,[[1,7],[10,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){te=!0,this.stopCamera()}},{key:"setupCamera",value:function(){var e=Object(W.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){e.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){e.kind,console.log(e.kind+": "+e.label+", id = "+e.deviceId)}))})).catch((function(e){console.log(e.name+": "+e.message)})),this.playCamera();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"playCamera",value:function(){var e=Object(W.a)(H.a.mark((function e(){var t,n,o,a=this;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.stream&&window.stream.getTracks().forEach((function(e){e.stop()})),t=this.video,1920,1080,n="user",0==G&&(n="environment"),e.next=8,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:n,frameRate:60,width:{exact:1920},height:{exact:1080},aspectRatio:{exact:1920/1080}}});case 8:return o=e.sent,window.stream=o,t.srcObject=o,e.abrupt("return",new Promise((function(e){t.onloadedmetadata=function(){t.play(),a.updateCamera(),e(t)}})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopCamera",value:function(){console.log("stopCamera call");var e=this.video;void 0!=e&&(e.pause(),e.src="",void 0!=e.srcObject&&(e.srcObject.getTracks()[0].stop(),e.srcObject=void 0),console.log("video off"))}},{key:"updateCamera",value:function(){var e=this.canvas;if(void 0!=e){var t=e.getContext("2d");if(void 0!=t){var n=this.video;void 0!=n&&(0==this.props.showVideo?n.style.display="none":n.style.display="block",this.updateCameraFrame(t))}}}},{key:"updateCameraFrame",value:function(e){var t=this,n=this.video,o=this.posenet,a=0,i=function(){var r=Object(W.a)(H.a.mark((function r(){var s,c,l,u;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(1!=te){r.next=2;break}return r.abrupt("return");case 2:if(s=t.canvas,c=(new Date).getTime(),1==(l=c-a>1e3)&&(a=c),1!=l){r.next=18;break}return r.prev=8,r.next=11,o.estimateSinglePose(n,.5,!0,16);case 11:u=r.sent,t.props.onPosenetPose(u),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(8),console.log("posenet detection error",r.t0);case 18:if(1==t.props.showDebugVideo&&void 0!=s&&(n.videoWidth==s.width&&n.videoHeight==s.height||(s.width=n.videoWidth,s.height=n.videoHeight,e.width=n.videoWidth,e.height=n.videoHeight),e.clearRect(0,0,s.width,s.height),e.save(),e.drawImage(n,0,0),e.restore()),"start"!=t.props._closeCamera){r.next=23;break}return t.stopCamera(),t.props.onCloseCamera("complete"),r.abrupt("return");case 23:requestAnimationFrame(i);case 24:case"end":return r.stop()}}),r,null,[[8,15]])})));return function(){return r.apply(this,arguments)}}();i()}},{key:"render",value:function(){var e,t;return 1==this.props.showMiniVideo?(t=Object.assign({},q,Y),Object.assign({},q,J)):(t=Object.assign({},Q,$),Object.assign({},Q,Z)),a.a.createElement("div",null,a.a.createElement("video",{style:t,src:"",playsInline:!0,ref:this.getVideo}),a.a.createElement("canvas",(e={style:ee},Object(F.a)(e,"style",t),Object(F.a)(e,"ref",this.getCanvas),e)))}}]),n}(o.Component);ne.defaultProps={showVideo:!1,showDebugVideo:!0,showMiniVideo:!1,loadingText:"Loading...please be patient..."};var oe=ne=Object(d.b)((function(e){return{_current_scene:e.scene._current_scene}}),(function(e){return{onPosenetPose:function(t){return e(v(t))},onClosePosenet:function(t){return e(h(t))}}}))(ne);n(5);function ae(e){var t=Math.pow(e.x-0,2)+Math.pow(e.y-0,2);return Math.sqrt(t)}function ie(e,t){return(e.x*t.x+e.y*t.y)/(ae(e)*ae(t))}var re,se;function ce(e){return[e.x,e.y]}function le(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.forEach((function(e){if(e.score>=t){var i=e.position,r=i.x,s=i.y;o.beginPath(),o.arc(r*a,s*a,3,0,2*Math.PI),o.fillStyle=n,o.fill()}}))}function ue(e,t,n,o,a,i){var r=Object(p.a)(e,2),s=r[0],c=r[1],l=Object(p.a)(t,2),u=l[0],d=l[1];i.beginPath(),function(e,t,n,o,a){a.moveTo(e,t),a.lineTo(n,o);var i=n-e,r=o-t,s=Math.atan2(r,i);a.moveTo(n,o),a.lineTo(n-10*Math.cos(s-Math.PI/6),o-10*Math.sin(s-Math.PI/6)),a.moveTo(n,o),a.lineTo(n-10*Math.cos(s+Math.PI/6),o-10*Math.sin(s+Math.PI/6))}(s*a,c*a,u*a,d*a,i),i.lineWidth=o,i.strokeStyle=n,i.stroke()}function de(e,t,n,o,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,r=K.a(e,t);r.forEach((function(e){ue(ce(e[0].position),ce(e[1].position),n,o,i,a)}))}function pe(e,t,n,o){var a=Object(p.a)(e,2),i=a[0],r=a[1],s=Object(p.a)(t,2),c=s[0],l=s[1];o.font="20px Arial",o.fillStyle=n,o.textAlign="center";var u={};u.x=c-i,u.y=l-r;var d=function(e){var t={x:0,y:-1},n=ie(t,e),o=parseInt(Math.acos(n)*(180/Math.PI));return e.x<0&&(o+=180),o}(u),m=(i+c)/2,f=(r+l)/2;o.fillText("("+d+")",m,f)}function me(e,t,n,o,a){arguments.length>5&&void 0!==arguments[5]&&arguments[5];var i=K.a(e,t);i.forEach((function(e){pe(ce(e[0].position),ce(e[1].position),n,o)}))}var fe=0,ve="yellow",he=32;function ge(){if(!re)return re=Date.now(),se=0,void(fe=0);(Date.now()-re)/1e3>=1?(re=Date.now(),se=fe,fe=0):fe++}function be(e){e.fillStyle=ve,e.font=he+"px Arial",e.fillText(se,10,he+10)}var Se={zIndex:"0",position:"fixed",right:"0%",bottom:"0%",width:"30%"},Ee={height:"30%"},ye={height:"30%"},we={zIndex:"0",position:"fixed",left:"0%",top:"0%",width:"100%"},_e={height:"auto"},xe={height:"100%"},Pe={position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"100%",height:"100%",margin:"0 auto",textShadow:"2px 2px 5px black",color:"white"},ke={textAlign:"left",fontSize:"150%"},Ce={textAlign:"center",fontSize:"80%"},Oe={textAlign:"right",fontSize:"130%"},Te={textAlign:"center",fontSize:"80%"},Ne=!1,je=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e,n.defaultProps)).getCanvas=function(e){o.canvas=e},o.getVideo=function(e){o.video=e},o.getCameraScan=function(){var e;if(e=1==o.props.showMiniVideo?Object.assign({},Pe,Ce):Object.assign({},Pe,ke),void 0==o.props._posenetPose)return a.a.createElement("span",{style:e},"\uce74\uba54\ub77c \uc778\uc2dd \uc911...")},o.getCameraInvalid=function(){var e;if(void 0!=o.props._posenetPose&&!(o.props.minPoseConfidence<o.props._posenetPose.score))return e=1==o.props.showMiniVideo?Object.assign({},Pe,Te):Object.assign({},Pe,Oe),a.a.createElement("span",{style:e},"\ud654\uba74 \uc548\uc73c\ub85c \ub4e4\uc5b4\uc624\uc138\uc694.")},o.stopCamera=o.stopCamera.bind(Object(X.a)(o)),console.log("PoseNetCamera init"),o}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(W.a)(H.a.mark((function e(){var t=this;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ne=!1,e.prev=1,e.next=4,this.setupCamera();case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("This browser does not support video capture, or this device does not have a camera");case 9:return e.prev=9,e.next=12,K.b();case 12:this.posenet=e.sent,e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(9),new Error("PoseNetCamera failed to load");case 18:return e.prev=18,setTimeout((function(){t.setState({loading:!1})}),200),e.finish(18);case 21:this.detectPose();case 22:case"end":return e.stop()}}),e,this,[[1,6],[9,15,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Ne=!0,console.log("PoseNetCamera componentWillUnmount"),this.stopCamera()}},{key:"setupCamera",value:function(){var e=Object(W.a)(H.a.mark((function e(){var t,n,o,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return(t=this.video).style.display="none",t.style.transform="rotatey(180deg)",n=window.innerWidth,o=window.innerHeight,e.next=9,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:n,height:o}});case 9:return a=e.sent,t.srcObject=a,e.abrupt("return",new Promise((function(e){t.onloadedmetadata=function(){t.play(),e(t)}})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopCamera",value:function(){console.log("stopCamera call");var e=this.video;void 0!=e&&(e.pause(),e.src="",void 0!=e.srcObject&&(e.srcObject.getTracks()[0].stop(),e.srcObject=void 0),console.log("video off"))}},{key:"detectPose",value:function(){var e=this.canvas;if(void 0!=e){var t=e.getContext("2d");if(void 0!=t)this.video.style.display="none",this.poseDetectionFrame(t)}}},{key:"poseDetectionFrame",value:function(e){var t=this,n=this.props,o=n.algorithm,a=n.imageScaleFactor,i=n.flipHorizontal,r=n.outputStride,s=n.minPoseConfidence,c=n.minPartConfidence,l=n.maxPoseDetections,u=n.nmsRadius,d=n.showDebugVideo,p=n.showPoints,m=n.showSkeleton,f=n.showSkeletonDegree,v=n.skeletonColor,h=n.skeletonDegreeColor,g=n.skeletonLineWidth,b=this.posenet,S=this.video,E=(new Date).getTime(),y=function(){var n=Object(W.a)(H.a.mark((function n(){var w,_,x,P,k;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(1!=Ne){n.next=2;break}return n.abrupt("return");case 2:if(w=(new Date).getTime(),1==(_=w-E>1e3)&&(E=w),n.prev=6,x=[],1!=_){n.next=22;break}n.t0=o,n.next="multi-pose"===n.t0?12:"single-pose"===n.t0?16:22;break;case 12:return n.next=14,b.estimateMultiplePoses(S,a,i,r,l,c,u);case 14:return x=n.sent,n.abrupt("break",22);case 16:return n.next=18,b.estimateSinglePose(S,a,i,r);case 18:return P=n.sent,t.props.onPosenetPose(P),x.push(P),n.abrupt("break",22);case 22:void 0!=(k=t.canvas)&&(e.clearRect(0,0,k.width,k.height),e.save(),e.scale(-1,1),e.translate(-k.width,0),e.drawImage(S,S.left,S.top,S.left+k.width/2,S.top+k.height),e.restore(),1==d&&(ge(),e.save(),x.forEach((function(t){var n=t.score,o=t.keypoints;n>=s&&(p&&le(o,c,v,e),m&&de(o,c,v,g,e),f&&me(o,c,h,e))})),e.restore(),be(e))),n.next=29;break;case 26:n.prev=26,n.t1=n.catch(6),console.log("posenet detection error");case 29:requestAnimationFrame(y);case 30:case"end":return n.stop()}}),n,null,[[6,26]])})));return function(){return n.apply(this,arguments)}}();y()}},{key:"render",value:function(){var e,t;return 1==this.props.showMiniVideo?(e=Object.assign({},Se,Ee),t=Object.assign({},Se,ye)):(e=Object.assign({},we,_e),t=Object.assign({},we,xe)),a.a.createElement("div",null,a.a.createElement("video",{id:"videoCamera",style:e,src:"",playsInline:!0,ref:this.getVideo}),a.a.createElement("div",{style:t},this.getCameraInvalid()),a.a.createElement("canvas",{style:{position:"fixed",left:"0%",top:"0%",zIndex:"1"},ref:this.getCanvas}))}}]),n}(o.Component);je.defaultProps={flipHorizontal:!0,algorithm:"single-pose",showMiniVideo:!1,showVideo:!0,showDebugVideo:!1,showSkeleton:!1,showPoints:!1,showSkeletonDegree:!1,minPoseConfidence:.7,minPartConfidence:.5,maxPoseDetections:2,nmsRadius:20,outputStride:16,imageScaleFactor:.5,skeletonColor:"#ffadea",skeletonDegreeColor:"#ff0000",skeletonLineWidth:6,loadingText:"Loading...please be patient..."};je=Object(d.b)((function(e){return{_currentScene:e.scene._currentScene,_closePosenet:e.posenet._closePosenet,_posenetPose:e.posenet._posenetPose}}),(function(e){return{onPosenetPose:function(t){return e(v(t))},onClosePosenet:function(t){return e(h(t))}}}))(je);var Ie={position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"100%",height:"100%",textAlign:"left",margin:"0 auto",fontSize:"150%",textShadow:"2px 2px 5px black",color:"white"},Ve={position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"100%",height:"100%",textAlign:"right",margin:"0 auto",fontSize:"130%",textShadow:"2px 2px 5px black",color:"white"},Re={position:"fixed",zIndex:"1",left:"0%",top:"0%",width:"100%",height:"100%"},De={setScene:m},Le=(Object(d.b)((function(e){return{_posenetPose:e.posenet._posenetPose,_countdown:e.countdown._countdown}}),De)((function(e){e.setScene;var t=e._posenetPose,n=(e._countdown,e.minPoseConfidence);Object(o.useEffect)((function(){}));return a.a.createElement("div",{style:Re},a.a.createElement("span",{style:Ie},"\uce74\uba54\ub77c \uc778\uc2dd \uc911..."),function(){if(void 0!=t&&!(n<t.score))return a.a.createElement("span",{style:Ve},"\ud654\uba74 \uc548\uc73c\ub85c \ub4e4\uc5b4\uc624\uc138\uc694.")}())})),Object(b.a)((function(e){return{root:{width:"100%",maxHeight:"100%"},contentsTitle:{position:"absolute",left:"5%",top:"5%",fontSize:"250%",textShadow:"2px 2px 5px black",color:"red"},contentsResult:{position:"fixed",left:"0%",top:"10%",width:"100%",height:"auto",fontSize:"250%",textShadow:"2px 2px 5px black",textAlign:"center",color:"white"}}}))),Be=0,Me=0,Ae=void 0,ze=void 0,Fe=void 0,Ue={SetSubScene:f,InvalidPosenet:function(e){return{type:"INVALIDPOSENET",_invalidPoseKey:e}},ValidPosenet:function(e){return{type:"VALIDPOSENET",_validPoseKey:e}},ClosePosenet:h},He=Object(d.b)((function(e){return{_posenetPose:e.posenet._posenetPose,_currentSubScene:e.scene._currentSubScene,_recordState:e.posenet._recordState,_invalidPosenetList:e.posenet._invalidPosenetList,_validPosenetList:e.posenet._validPosenetList}}),Ue)((function(e){e.SetSubScene,e._currentSubScene;var t=e.InvalidPosenet,n=e.ValidPosenet,i=e._invalidPosenetList,r=e._validPosenetList,s=e._posenetPose,c=e.step,l=e.title,u=e.desc,d=e._recordState,p=Le();Object(o.useEffect)((function(){void 0!=s&&(.3<s.score?Me++:Be++,1==d?m():f())}),[s]),Object(o.useEffect)((function(){return console.log("PoseCameraRecord start:"+c),Be=0,Me=0,Ae=c,ze=l,Fe=u,function(){f()}}),[]);var m=function(){var e,t=document.getElementById("videoCamera");void 0!=t&&void 0!=(e=t.srcObject)&&void 0==k&&((k=new MediaRecorder(e)).ondataavailable=function(e){console.log("data-available data count:"+e.data.size),e.data.size>0&&(C.push(e.data),console.log("reocrd count:"+C.length))},console.log("VideoRecord_Start call:"+e),k.start())},f=function(){if(console.log(" stopVideoRecord call"),void 0!=k!=0){var e=0,o=Me+Be;0!=o&&(e=100*Me/(Me+Be)),console.log("percent:"+e+", total:"+o);var a=50<e;0==a?t(c):n(c),function(e,t,n,o){if(void 0==k)return!1;console.log("VideoRecord_Stop state:"+e);var a={};a.valid=e,a.step=t,a.title=n,a.desc=o,O.push(a),k.stop(),k=void 0}(a,Ae,ze,Fe)}};return a.a.createElement("div",{key:"PoseNetMiniCamera"},a.a.createElement(oe,{showMiniVideo:!0,minPoseConfidence:"0.1"}),function(){if(0==d){console.log(r),console.log(i);for(var e=0;e<r.length;e++){var t=r[e];if(Ae==t)return a.a.createElement("span",{className:p.contentsResult},"\uae30\ub85d \uc131\uacf5")}for(e=0;e<i.length;e++){t=i[e];if(Ae==t)return a.a.createElement("span",{className:p.contentsResult},"\uae30\ub85d \uc2e4\ud328")}}}())})),We={step1:{title:"\ucf54\uc5b4-\ubcf5\uadfc 15\ubd84",desc:"\ucf54\uc5b4-\ubcf5\uadfc 15\ubd84",type:"extra",url:"https://goli8111.github.io/home-training/data/intro.mp4",enableContentsPause:!0,enablePlayerView:!1,key:"intro"},step2:{title:"\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38",desc:"\uc6cc\ubc0d\uc5c5:\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38 40\ucd08",type:"extra",url:"https://goli8111.github.io/home-training/data/mountain-climber-intro.mp4",enableContentsPause:!0,enablePlayerView:!1,key:"mountain-climber"},step3:{title:"\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38(set)",desc:"\uc6cc\ubc0d\uc5c5:\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38 40\ucd08",type:"set",url:"https://goli8111.github.io/home-training/data/mountain-climber-set.mp4",enableContentsPause:!1,enablePlayerView:!0,key:"mountain-climber"},step4:{title:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3",desc:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3 30\ucd08 X 1 set",type:"extra",url:"https://goli8111.github.io/home-training/data/plank-in-and-out-intro.mp4",enableContentsPause:!0,enablePlayerView:!1,key:"plank-in-and-out"},step5:{title:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3(set)",desc:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3 30\ucd08 X 1 set",type:"set",url:"https://goli8111.github.io/home-training/data/plank-in-and-out-set.mp4",enableContentsPause:!1,enablePlayerView:!0,key:"plank-in-and-out"},step6:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 X 1 set",type:"extra",url:"https://goli8111.github.io/home-training/data/hollow-body-kick-intro-1.mp4",enableContentsPause:!0,enablePlayerView:!1,key:"hollow-body-kick"},step7:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 Set#1",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 X 1 set",type:"set",url:"https://goli8111.github.io/home-training/data/hollow-body-kick-set-1.mp4",enableContentsPause:!0,enablePlayerView:!0,key:"hollow-body-kick"},step8:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5(\ud734\uc2dd)",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 \ud6c4 \ud734\uc2dd",type:"extra",url:"https://goli8111.github.io/home-training/data/hollow-body-kick-intro-2.mp4",enableContentsPause:!0,enablePlayerView:!1,key:"hollow-body-kick"},step9:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 Set#2",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 X 2 set",type:"set",url:"https://goli8111.github.io/home-training/data/intro.mp4",enableContentsPause:!0,enablePlayerView:!0,key:"hollow-body-kick"},step10:{title:"",desc:"\uacb0\uacfc",type:"extra",url:"https://goli8111.github.io/home-training/data/core-abs-result.mp4",enableContentsPause:!1,enablePlayerView:!1,key:"result"}},Xe=Object(b.a)((function(e){return{root:{width:"100%",maxHeight:"100%"},videoContainer:{width:"100%",position:"relative"},progressContainer:{position:"absolute",zIndex:"1",left:"2%",top:"20%",width:"15%",height:"15%",margin:"0"}}})),Ke=0,Ge={InvalidPosenetClear:function(){return{type:"INVALIDPOSENET_CLEAR"}},SetCameraRecord:function(e){return console.log("SETCAMERARECORD action call:"+e),{type:"SETCAMERARECORD",_recordState:e}},setScene:m},qe=Object(d.b)((function(e){return{_posenetPose:e.posenet._posenetPose,_invalidPosenetList:e.posenet._invalidPosenetList,_validPosenetList:e.posenet._validPosenetList,_maxTime:e.countdown._maxTime,_currentTime:e.countdown._currentTime}}),Ge)((function(e){e._posenetPose;var t=e.setScene,n=e.InvalidPosenetClear,o=e.SetCameraRecord,i=e._invalidPosenetList,r=e._validPosenetList,s=e._currentTime,c=e._maxTime,l=Xe(),u=a.a.useState(6),d=Object(p.a)(u,2),m=d[0],f=d[1],v=function(e){return We["step"+e]},h=function(e,t,n){return a.a.createElement(z,{key:t,title:e,enableContentsSkip:!0,enableContentsPause:n,enableCountDown:!0,onVideoPlayComplete:S,onVideoSkip:E,videoUrl:t,autoPlay:!0,enableTitleText:!0,enableFullScreen:!0,enableScreenMirror:n})},b=function(){var e=m+1;void 0!=v(e)&&y(e)},S=function(){console.log("onVideoEnded call");var e=v(m);void 0!=e&&(o(!1),e.enablePlayerView&&setTimeout((function(){b()}),2e3))},E=function(){console.log("onVideoSkip call"),void 0!=v(m)&&b()};function y(e){for(var t=m,n=e,o=0;o<r.length;o++){var a=r[o];if(a==n||a==n+1)return console.log("skip scene type:"+t+"=>"+a),void y(a+1)}f(n),console.log("change scene type:"+t+"=>"+n)}var _=function(){var e=void 0,t=void 0,n=v(m);return void 0!=n&&(e=n.title,t=n.desc),a.a.createElement("div",{key:"PoseNetMiniCamera"},a.a.createElement(He,{step:m,title:e,desc:t}))},x=function(){console.log("onOKClick"),f(6),t("Result")},k=function(){console.log("onRetryClick"),Ke=0,n(),function(){if(C.length==O.length){console.log("VideoRecord_InvalidDataClear prev reocrd count:"+C.length);for(var e=O.length-1;e>=0;e--)0==O[e].valid&&(console.log("VideoRecord_InvalidDataClear delete reocrd:"+e),O.splice(e,1),C.splice(e,1));console.log("VideoRecord_InvalidDataClear current reocrd count:"+C.length)}else console.log("VideoRecord_InvalidDataClear _recordedChunks, _recordedChunksState length diffrent")}(),y(6)},T=function(){var e=i.length;return 0==e?a.a.createElement("div",{key:"ResultSuccess"},a.a.createElement(P,{onOKClick:x})):a.a.createElement("div",{key:"ResultFailure"},a.a.createElement(w,{failureCount:e,onOKClick:x,onRetryClick:k}))};return a.a.createElement("div",{className:l.root},a.a.createElement("div",{className:l.videoContainer},function(){var e=[],t=v(m);void 0!=t&&(e.push(h(t.title,t.url,t.enableContentsPause)),void 0==v(m+1)&&e.push(T()),1==t.enablePlayerView&&(Ke!=m&&(o(!0),Ke=m),e.push(_())));return e}(),function(){var e=v(m);if(void 0!=e&&0!=e.enablePlayerView){var t=parseInt(c-s);return a.a.createElement("div",{className:l.progressContainer},a.a.createElement(g.a,{value:t,maxValue:c,text:"".concat(t),styles:Object(g.b)({textColor:"#ffffff",pathColor:"#ffffff",trailColor:"#ffffff11",textSize:"40px"})}))}}()))})),Ye=(n(79),Object(b.a)((function(e){return{root:{width:"100%",maxHeight:"100%"},videoRoot:{position:"absolute",top:"5%",height:"95%",width:"100%"},videoContainer:{position:"relative",width:"100%"},contentsTitle_fail:{position:"relative",width:"100%",left:"0%",color:"red"},contentsTitle_fail_desc:{position:"relative",width:"100%",left:"0%",color:"gray"},contentsSummery:{width:"100%"},contentsSummery_left:{position:"absolute",top:"5px",left:"10px",color:"black"},contentsSummery_right:{position:"absolute",top:"5px",right:"30px",color:"black"},video:{position:"relative",width:"100%",margin:"0"}}}))),Je=void 0,Qe={SetSubScene:f},$e=Object(d.b)((function(e){return{_currentSubScene:e.scene._currentSubScene,_invalidPosenetList:e.posenet._invalidPosenetList,_validPosenetList:e.posenet._validPosenetList}}),Qe)((function(e){e._currentSubScene;var t=e._invalidPosenetList,n=e._validPosenetList,i=Ye(),r=a.a.useState(!1),s=Object(p.a)(r,2),c=s[0],l=s[1];Object(o.useEffect)((function(){void 0!=(Je=function(e){for(var t=[],n=0;n<O.length;n++)if(O[n].valid==e){var o=O[n].step,a=T(o);if(void 0!=a){var i={};i.step=o,i.url=a,i.desc=O[n].desc,i.title=O[n].title,t.push(i)}}return t}(!0))&&0<Je.length?console.log("FullScreenResult source count:"+Je.length):console.log("FullScreenResult source zero")}));var u=function(e){var t=e.target.getAttribute("data-index");console.log("onToggleVideoFaceMask call index:"+t),l(!c)},d=function(e){var t=e.target.getAttribute("data-index");console.log("onDeleteVideo call index:"+t),function(e){console.log("VideoRecordDelete index:"+e),O.splice(e,1),C.splice(e,1),k=void 0}(t),l(!c)},m=function(e,t,n,o,r){return a.a.createElement("div",{key:t},r?function(e,t,n){return a.a.createElement("div",{key:t},a.a.createElement("div",{className:"contentsTitle_left"},a.a.createElement("div",{className:i.contentsTitle_success_icon},a.a.createElement("img",{onClick:u,"data-index":e,className:"contentsTitle_success_smile_icon",src:"/home-training/img/face-mask-icon.png"}),a.a.createElement("img",{onClick:d,"data-index":e,className:"contentsTitle_success_delete_icon",src:"/home-training/img/result-scene-delete-icon.png"})),a.a.createElement("span",{className:"contentsTitle_success_text"},t)),a.a.createElement("video",{className:i.video,autoPlay:!1,controls:!0,poster:"/home-training/img/HomeTrainingQuest_icon.png"},a.a.createElement("source",{src:n,type:"video/mp4",id:"SelectSoundOutput"}),"Your browser does not support the video tag."))}(e,n,o):function(e){return a.a.createElement("div",{key:e},a.a.createElement("div",{className:"contentsTitle_fail_left"},a.a.createElement("span",{className:i.contentsTitle_fail},e)),a.a.createElement("div",{className:"contentsTitle_fail_center"},a.a.createElement("span",{className:i.contentsTitle_fail_desc},"\uc601\uc0c1 \uae30\ub85d \uc5c6\uc74c")))}(n))};return a.a.createElement("div",{key:"FullScreenResult",className:i.root},a.a.createElement("div",{className:i.contentsSummery},a.a.createElement("span",{className:i.contentsSummery_left},"\ub0b4\uae30\ub85d"),a.a.createElement("span",{className:i.contentsSummery_right},function(){var e=t.length+n.length,o=n.length;return a.a.createElement("div",null,a.a.createElement("span",{style:{color:"green"}},o," Set"),"\uae30\ub85d / \ucd1d ",e," Set")}())),a.a.createElement("div",{className:i.videoRoot},a.a.createElement("div",{className:i.videoContainer},function(){var e=[],t=function(){for(var e=[],t=0;t<O.length;t++){var n=O[t].step,o=T(n);if(void 0!=o){var a={};a.step=n,a.url=o,a.valid=O[t].valid,a.desc=O[t].desc,a.title=O[t].title,e.push(a)}}return e}();if(void 0!=t){console.log("fullSourceList:"+t.length);for(var n=0;n<t.length;n++)e.push(m(n,t[n].title,t[n].desc,t[n].url,t[n].valid))}return e}())))})),Ze=(n(80),Object(b.a)((function(e){return{root:{width:"100%"},videoContainer:{width:"100%",position:"relative"},contentsTitle:{color:"black"},BottomBarBack:{position:"fixed",backgroundColor:"#FFFFFF88",width:"100%",height:"11%",top:"89%",left:"0%"},BottomBarButton:{position:"fixed",height:"8%",top:"90%",background:"linear-gradient(90deg, #cc6699 30%, #6666ff 80%)",borderRadius:3,border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)",width:"94%",left:"3%"},BottomBarButton_text_1:{position:"absolute",left:"0",top:"10%",width:"100%",fontSize:"140%",fontWeight:"bold"},BottomBarButton_text_2:{position:"absolute",left:"0",top:"60%",width:"100%",fontSize:"80%"}}}))),et={setScene:m},tt=Object(d.b)((function(e){return{_posenetPose:e.posenet._posenetPose}}),et)((function(e){e._posenetPose;var t=e.setScene,n=Ze();console.log("IntroScene start");return a.a.createElement("div",{className:n.root},a.a.createElement("div",{className:"contents_body"},a.a.createElement("div",{className:"contents_intro"},a.a.createElement("span",{className:".contents_intro_text"},"\uc5b4\ub514\uc2a4\ub4e0 \uac00\ubccd\uac8c!"),a.a.createElement("span",{className:"contents_intro_text_sub"},a.a.createElement("br",null),"\ub531 16\ubd84 \ud2b8\ub808\uc774\ub2dd\uc73c\ub85c \ucf54\uc5b4\ub97c \ub2e8\ub2e8\ud558\uac8c \uc870\uc774\uace0, \ubcf5\uadfc\uc744 \ud65c\uc131\ud654 \ud569\ub2c8\ub2e4.",a.a.createElement("br",null),"\ub530\ub77c\uc624\uc138\uc694")),function(){var e=[];return Object.keys(We).forEach((function(t,o){var i,r,s;"set"==We[t].type&&e.push((i=We[t].title,r=We[t].desc,s=We[t].url,a.a.createElement("div",{key:i},a.a.createElement("span",{className:n.contentsTitle},r),a.a.createElement("div",{className:n.videoContainer},a.a.createElement(z,{key:s,title:i,enableContentsSkip:!1,enableContentsPause:!1,videoUrl:s,autoPlay:!1,enableTitleText:!1,enableFullScreen:!1,enableScreenMirror:!1})))))})),e}(),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",{className:n.BottomBarBack})),a.a.createElement(S.a,{onClick:function(){console.log("onPlay call"),t("BodyScan")},className:n.BottomBarButton,variant:"contained",color:"secondary"},a.a.createElement("span",{className:n.BottomBarButton_text_1},"\uc601\uc0c1 \uae30\ub85d \uc2dc\uc791"),a.a.createElement("span",{className:n.BottomBarButton_text_2},"\ucd1d 11 Set / 15 \ubd84")))})),nt=Object(b.a)((function(e){return{root:{position:"absolute",left:"0%",top:"0%",width:"100%",height:"100%"},videoContainer:{position:"absolute",height:"100%",width:"100%",left:"0%",top:"0%"},contentsLoading:{position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"100%",height:"100%",textAlign:"left",margin:"0 auto",fontSize:"150%",textShadow:"2px 2px 5px black",color:"white"},progressContainer:{position:"absolute",zIndex:"1",left:"0%",top:"0%",width:"20%",height:"20%",marginLeft:"5%",marginTop:"10%"}}})),ot={setScene:m},at=Object(d.b)((function(e){return{_posenetPose:e.posenet._posenetPose}}),ot)((function(e){var t=e._posenetPose,n=e.setScene,i=nt(),r=a.a.useState(0),s=Object(p.a)(r,2),c=s[0],l=s[1];Object(o.useEffect)((function(){console.log("_posenetPose effect call"),void 0!=t&&(.3<=t.score?u():d())}),[t]);var u=function(){l(c+1)},d=function(){l(0)};return c>=4&&n("Play"),a.a.createElement("div",{className:i.root},a.a.createElement("div",{className:i.videoContainer},a.a.createElement("div",{className:i.progressContainer},a.a.createElement(g.a,{value:c,maxValue:4,text:"".concat(25*c,"%"),styles:Object(g.b)({textColor:"#ffffff",pathColor:"#ffffff",trailColor:"#ffffff11",textSize:"40px"})})),a.a.createElement("span",{className:i.contentsLoading},"\ucd5c\uc885 \uce74\uba54\ub77c \uc778\uc2dd \uc911..."),a.a.createElement("div",{key:"PoseNetScanCamera"},a.a.createElement(oe,{showMiniVideo:!1,minPoseConfidence:.3}))))})),it={step3:{title:"\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38(set)",desc:"\uc6cc\ubc0d\uc5c5:\ub9c8\uc6b4\ud2f4 \ud074\ub77c\uc774\uba38 40\ucd08",url:"https://goli8111.github.io/home-training/data/mountain-climber-set.mp4",comments:["0:41","\ub2e4\ub9ac\ub97c \ud3b4\uc8fc\uc138\uc694.","1:15","\ub9c8\uc6b4\ud2f4 \uc790\uc138 \uc2dc, \ud5c8\ub9ac\ub97c \ub354 \ud3b4\uc8fc\uc138\uc694."]},step5:{title:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3(set)",desc:"\ud50c\ub7ad\ud06c \uc778 \uc564 \uc544\uc6c3 30\ucd08 X 1 set",url:"https://goli8111.github.io/home-training/data/plank-in-and-out-set.mp4",comments:["0:13","\uc870\uae08 \ub354 \ube60\ub974\uac8c \uc9c4\ud589 \ud574\uc8fc\uc138\uc694."]},step7:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 Set#1",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 X 1 set",url:"https://goli8111.github.io/home-training/data/hollow-body-kick-set-1.mp4",comments:["0:00","\uc644\ubcbd\ud569\ub2c8\ub2e4."]},step9:{title:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 Set#2",desc:"\ud560\ub85c\uc6b0\ubc14\ub514 \ud0a5 30\ucd08 X 2 set",url:"https://goli8111.github.io/home-training/data/hollow-body-kick-set-2.mp4"}},rt=(n(81),Object(b.a)((function(e){return{root:{width:"100%",maxHeight:"100%"},videoRoot:{position:"relative",top:"5%",height:"95%",width:"100%"},videoContainer:{position:"relative",width:"100%",margin:"5px"},video:{position:"relative",width:"100%",margin:"0"},divLine:{border:"1px solid",color:"#DDDDDD",width:"95%"}}}))),st={SetSubScene:f},ct=Object(d.b)((function(e){return{_currentSubScene:e.scene._currentSubScene,_invalidPosenetList:e.posenet._invalidPosenetList,_validPosenetList:e.posenet._validPosenetList}}),st)((function(e){var t=e.resultState,n=rt();Object(o.useEffect)((function(){}));var i=function(e,t,o){return a.a.createElement("div",{key:e},a.a.createElement("div",{className:"contentsTitle_left"},a.a.createElement("span",{className:"contentsTitle_success_text"},e)),a.a.createElement("video",{className:n.video,autoPlay:!1,controls:!0,poster:"/home-training/img/HomeTrainingQuest_icon.png"},a.a.createElement("source",{src:t,type:"video/mp4",id:"SelectSoundOutput"}),"Your browser does not support the video tag."),a.a.createElement("div",{className:"contentsTitle_left"},function(e){if(void 0!=e){for(var t=[],n=parseInt(e.length/2),o=0;o<n;o++){0!=o&&t.push(a.a.createElement("br",{key:e}));var i=2*o,r=e[i],s=e[i+1];t.push(a.a.createElement("span",{key:r+s+"0",className:"contentsTitle_success_time"},r," ")),t.push(a.a.createElement("span",{key:r+s+"1",className:"contentsTitle_success_text"},s))}return t}}(o)),a.a.createElement("hr",{className:n.divLine}))};return a.a.createElement("div",{key:"FeedbackScene",className:n.root},a.a.createElement("div",{className:"contentsSummery"},a.a.createElement("span",{className:"contentsSummery_title"},"\ub9c8\uc2a4\ud130 \ucf54\uba58\ud2b8"),a.a.createElement("div",{className:"contentsSummery_result"},t?a.a.createElement("div",null,"\uc57d\uac04\uc758 \ub3d9\uc791 \uad50\uc815\uc774 \ud544\uc694\ud558\uc9c0\ub9cc, \uc798\ud558\uc168\uc2b5\ub2c8\ub2e4,",a.a.createElement("br",null),"\ud074\ub9ac\uc5b4 \ub3c4\uc7a5 \ucc0d\uc5b4\ub4dc\ub9bd\ub2c8\ub2e4!"):a.a.createElement("div",null,"\uc544\uc27d\uc2b5\ub2c8\ub2e4.",a.a.createElement("br",null),"\ucf54\uba58\ud2b8\ub97c \uc77d\uc5b4\ubcf4\uc2dc\uace0 \ub2e4\uc2dc \ub3c4\uc804\ud558\uc138\uc694.")),a.a.createElement("hr",{className:n.divLine}),a.a.createElement("div",{className:n.videoRoot},a.a.createElement("div",{className:n.videoContainer},function(){var e=[];return Object.keys(it).forEach((function(t,n){e.push(i(it[t].desc,it[t].url,it[t].comments))})),e}()))))})),lt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){L(!1),B(!1)}},{key:"getScene",value:function(){switch(this.props._currentScene){case"Result":return L(!1),B(!1),a.a.createElement($e,null);case"Play":return L(!0),B(!0),a.a.createElement(qe,null);case"BodyScan":return L(!0),B(!0),a.a.createElement(at,null);case"Feedback":return L(!1),B(!1),a.a.createElement(ct,{resultState:!1});default:return L(!1),B(!1),a.a.createElement(tt,null)}}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},this.getScene())}}]),n}(o.Component),ut=lt=Object(d.b)((function(e){return{_currentScene:e.scene._currentScene}}),(function(e){return{}}))(lt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dt=n(21),pt={_currentScene:"IndexScene",_currentSubScene:""};var mt=n(45),ft=n(39),vt={_posenetPose:void 0,_closePosenet:"",_invalidPosenetList:[],_validPosenetList:[],_recordState:!1};var ht={_currentTime:0,_maxTime:0};var gt=Object(dt.b)({scene:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETSCENE":return console.log("SETSCENE:"+t._changeScene),Object.assign({},e,{_currentScene:t._changeScene});case"SETSUBSCENE":return console.log("SETSUBSCENE:"+t._changeSubScene),Object.assign({},e,{_currentSubScene:t._changeSubScene});default:return e}},posenet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETPOSENETPOSE":return Object.assign({},e,{_posenetPose:t._posenetPose});case"CLOSEPOSENET":return console.log("CLOSEPOSENET:"+t._closePosenet),Object.assign({},e,{_closePosenet:t._closePosenet});case"INVALIDPOSENET":return console.log("INVALIDPOSENET:"),console.log(e._invalidPosenetList),Object(ft.a)({},e,{_invalidPosenetList:[].concat(Object(mt.a)(e._invalidPosenetList),[t._invalidPoseKey])});case"INVALIDPOSENET_CLEAR":return console.log("INVALIDPOSENET_CLEAR:"),console.log(e._invalidPosenetList),Object(ft.a)({},e,{_invalidPosenetList:[]});case"VALIDPOSENET":return console.log("VALIDPOSENET:"),console.log(e._validPosenetList),Object(ft.a)({},e,{_validPosenetList:[].concat(Object(mt.a)(e._validPosenetList),[t._validPoseKey])});case"SETCAMERARECORD":return console.log("SETCAMERARECORD:"+t._recordState),Object.assign({},e,{_recordState:t._recordState});default:return e}},countdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETMAXTIME":return Object.assign({},e,{_maxTime:t._maxTime});case"SETCURRENTTIME":return Object.assign({},e,{_currentTime:t._currentTime});default:return e}}}),bt=document.getElementById("root"),St=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Et=Object(dt.c)(gt,St);r.a.render(a.a.createElement(d.a,{store:Et},a.a.createElement(ut,null)),bt),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.7ca5b91e.chunk.js.map